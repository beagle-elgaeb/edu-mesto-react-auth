{"version":3,"sources":["utils/Api.js","images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","images/button-delete.svg","components/Card.js","images/loader.gif","images/button-edit.svg","images/button-add.svg","components/Main.js","components/Footer.js","images/button-сlose.svg","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","options","this","_baseUrl","baseUrl","_groupID","groupID","_headers","headers","promise","fetch","authorization","_handleResult","avatar","method","body","JSON","stringify","name","about","link","id","then","res","ok","json","Promise","reject","status","Header","className","href","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onClick","onLikeClick","onDeleteClick","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","deleteClicked","likeClicked","type","buttonDeleteCard","length","Main","cards","onEditProfile","onEditAvatar","onAddCard","onCardClick","onCardLike","onCardDelete","loader","buttonEditImg","buttonAddCard","map","item","Footer","PopupWithForm","title","buttonText","children","isOpen","disabledSubmit","onSubmit","onClose","useState","isSubmit","setIsSubmit","useEffect","e","stopPropagation","preventDefault","disabled","buttonClosePopup","EditProfilePopup","onUpdateUser","formik","useFormik","initialValues","fullName","profession","validationSchema","Yup","min","max","required","values","handleSubmit","isValid","getFieldProps","placeholder","touched","errors","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","url","resetForm","AddPlacePopup","onAddPlace","pic","ImagePopup","App","editAvatarPopupOpen","setEditAvatarPopupOpen","editProfilePopupOpen","setEditProfilePopupOpen","addCardPopupOpen","setAddCardPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","undefined","all","getProfileData","getInitialCards","profile","catch","err","console","log","Provider","value","state","c","unlikeCard","likeCard","removeCard","newCards","filter","data","setProfileData","result","setAvatar","createCard","newCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9b014f08.chunk.js","sourcesContent":["class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._groupID = options.groupID;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  getInitialCards() {\r\n    const promise = fetch(`${this._baseUrl}/${this._groupID}/cards`, {\r\n      headers: {\r\n        authorization: this._headers.authorization\r\n      }\r\n    })\r\n\r\n    return this._handleResult(promise);\r\n  }\r\n\r\n  getProfileData() {\r\n    const promise = fetch(`${this._baseUrl}/${this._groupID}/users/me`, {\r\n      headers: {\r\n        authorization: this._headers.authorization\r\n      }\r\n    })\r\n\r\n    return this._handleResult(promise);\r\n  }\r\n\r\n  setAvatar(avatar) {\r\n    const promise = fetch(`${this._baseUrl}/${this._groupID}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: avatar\r\n      })\r\n    })\r\n\r\n    return this._handleResult(promise);\r\n  }\r\n\r\n  setProfileData(name, about) {\r\n    const promise = fetch(`${this._baseUrl}/${this._groupID}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        about\r\n      })\r\n    }) \r\n\r\n    return this._handleResult(promise);\r\n  }\r\n\r\n  createCard(name, link) {\r\n    const promise = fetch(`${this._baseUrl}/${this._groupID}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        link\r\n      })\r\n    })\r\n\r\n    return this._handleResult(promise);\r\n  }\r\n\r\n  removeCard(id) {\r\n    const promise = fetch(`${this._baseUrl}/${this._groupID}/cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers\r\n    })\r\n\r\n    return this._handleResult(promise);\r\n  }\r\n\r\n  likeCard(id) {\r\n    const promise = fetch(`${this._baseUrl}/${this._groupID}/cards/likes/${id}`, {\r\n      method: \"PUT\",\r\n      headers: this._headers\r\n    })\r\n\r\n    return this._handleResult(promise);\r\n  }\r\n\r\n  unlikeCard(id) {\r\n    const promise = fetch(`${this._baseUrl}/${this._groupID}/cards/likes/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers\r\n    })\r\n\r\n    return this._handleResult(promise);\r\n  }\r\n\r\n  _handleResult(promise) {\r\n    return promise\r\n      .then(res => {\r\n        if (res.ok) { return res.json() }\r\n        return Promise.reject(`Статут ошибки: ${res.status}`);\r\n      })\r\n  }\r\n}\r\n\r\nconst api = new Api(\r\n  {\r\n    baseUrl: \"https://mesto.nomoreparties.co/v1\",\r\n    groupID: \"cohort-26\",\r\n    headers: {\r\n      authorization: \"05288f01-26d1-4add-96c0-b100674c662e\",\r\n      'Content-Type': 'application/json'\r\n    }\r\n  });\r\n\r\n  export default api;","export default __webpack_public_path__ + \"static/media/logo.9acae848.svg\";","import logo from \"../images/logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <a className=\"logo\" href=\"/\">\n        <img className=\"logo__image\" src={logo} alt=\"Логотип проекта Mesto\" />\n      </a>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","export default __webpack_public_path__ + \"static/media/button-delete.e3c42771.svg\";","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nimport buttonDeleteCard from \"../images/button-delete.svg\";\r\n\r\nfunction Card({ card, onClick, onLikeClick, onDeleteClick }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n  let cardDeleteButtonClassName = `${isOwn ? \"card__button-delete\" : \"card__button-delete card__button-delete_disabled\"}`;\r\n  let cardLikeButtonClassName = `${isLiked ? \"card__button-like-img card__button-like-img_active\" : \"card__button-like-img\"}`;\r\n\r\n  if (card.deleteClicked) {\r\n    cardDeleteButtonClassName += \" card__button-delete_wait\";\r\n  }\r\n\r\n  if (card.likeClicked) {\r\n    cardLikeButtonClassName += \" card__button-like-img_wait\";\r\n  }\r\n\r\n  return (\r\n    <li className=\"photo-gallery__card card list__item\">\r\n      <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"Удалить\" onClick={() => onDeleteClick(card)}>\r\n        <img className=\"card__button-delete-img\" src={buttonDeleteCard} alt=\"Удалить карточку\" />\r\n      </button>\r\n      <img className=\"card__photo\" src={card.link} alt={card.name} onClick={() => onClick(card)} />\r\n      <div className=\"card__title-and-like\">\r\n        <h2 className=\"card__title\">{card.name}</h2>\r\n        <button className=\"card__button-like\" type=\"button\" aria-label=\"Нравится\" onClick={() => onLikeClick(card)}>\r\n          <div className={cardLikeButtonClassName}></div>\r\n          <p className=\"card__button-like-count\">{card.likes.length}</p>\r\n        </button>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nCard.propTypes = {\r\n  card: PropTypes.object.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n  onLikeClick: PropTypes.func.isRequired,\r\n  onDeleteClick: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Card;\r\n","export default __webpack_public_path__ + \"static/media/loader.3e10a767.gif\";","export default __webpack_public_path__ + \"static/media/button-edit.6c7bf054.svg\";","export default __webpack_public_path__ + \"static/media/button-add.bed8c136.svg\";","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Card from \"./Card\";\r\n\r\nimport loader from \"../images/loader.gif\";\r\nimport buttonEditImg from \"../images/button-edit.svg\";\r\nimport buttonAddCard from \"../images/button-add.svg\";\r\n\r\nfunction Main({ cards, currentUser, onEditProfile, onEditAvatar, onAddCard, onCardClick, onCardLike, onCardDelete }) {\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <button className=\"profile__button-edit-avatar profile__button-edit-avatar-overlay\" onClick={onEditAvatar}>\r\n          <img className=\"profile__avatar\" src={currentUser.avatar ?? loader} alt=\"Фото профиля\" />\r\n        </button>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__info-full-name-and-button-edit\">\r\n            <h1 id=\"fullName\" className=\"profile__info-full-name\">{currentUser.name}</h1>\r\n            <button className=\"profile__button-edit\" type=\"button\" aria-label=\"Изменить\" onClick={onEditProfile}>\r\n              <img className=\"profile__button-edit-img\" src={buttonEditImg} alt=\"Кнопка редактирования профиля\" />\r\n            </button>\r\n          </div>\r\n          <p id=\"profession\" className=\"profile__info-profession\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"profile__button-add-card\" type=\"button\" aria-label=\"Добавить фото\" onClick={onAddCard}>\r\n          <img className=\"profile__button-add-card-img\" src={buttonAddCard} alt=\"Кнопка добавления места\" />\r\n        </button>\r\n      </section>\r\n      <section className=\"photo-gallery\">\r\n        <ul className=\"photo-gallery__cards list\">\r\n          {cards.map((item) => (\r\n            <Card\r\n              key={item._id}\r\n              card={item}\r\n              onClick={onCardClick}\r\n              onLikeClick={onCardLike}\r\n              onDeleteClick={onCardDelete}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nMain.propTypes = {\r\n  cards: PropTypes.array.isRequired,\r\n  currentUser: PropTypes.object.isRequired,\r\n  onCardLike: PropTypes.func.isRequired,\r\n  onCardDelete: PropTypes.func.isRequired,\r\n  onEditAvatar: PropTypes.func.isRequired,\r\n  onEditProfile: PropTypes.func.isRequired,\r\n  onAddCard: PropTypes.func.isRequired,\r\n  onCardClick: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","export default __webpack_public_path__ + \"static/media/button-сlose.9f1fbe67.svg\";","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nimport buttonClosePopup from \"../images/button-сlose.svg\";\r\n\r\nfunction PopupWithForm({ title, name, buttonText, children, isOpen, disabledSubmit, onSubmit, onClose }) {\r\n  const [isSubmit, setIsSubmit] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    setIsSubmit(false);\r\n  }, [isOpen]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onSubmit();\r\n    setIsSubmit(true);\r\n  }\r\n\r\n  return (\r\n    <div className={`popup popup_type_${name} ${isOpen ? \"popup_opened\" : \"\"} `} onClick={onClose}>\r\n      <div className=\"popup__container\" onClick={(e) => e.stopPropagation()}>\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form className={`popup__form popup__form_type_${name} `} name={`form - ${name}`} onSubmit={handleSubmit} >\r\n          {children}\r\n          <button className={`popup__button-save ${disabledSubmit ? \"popup__button-save_disabled\" : \"\"}`} type=\"submit\" aria-label=\"Сохранить\" disabled={disabledSubmit}>\r\n            {buttonText}{isSubmit ? \"...\" : \"\"}\r\n          </button>\r\n        </form>\r\n        <button className=\"popup__button-close\" type=\"button\" aria-label=\"Закрыть окно\" onClick={onClose}>\r\n          <img className=\"popup__button-close-img\" src={buttonClosePopup} alt=\"Закрыть окно\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nPopupWithForm.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  buttonText: PropTypes.string.isRequired,\r\n  children: PropTypes.element.isRequired,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  disabledSubmit: PropTypes.bool.isRequired,\r\n  onSubmit: PropTypes.func.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ onUpdateUser, isOpen, onClose }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      fullName: currentUser.name,\r\n      profession: currentUser.about,\r\n    },\r\n    validationSchema: Yup.object({\r\n      fullName: Yup.string()\r\n        .min(2, \"Имя не должно быть короче 2 символов\")\r\n        .max(40, \"Имя не должно превышать 40 символов\")\r\n        .required(\"Введите, пожалуйста, имя\"),\r\n      profession: Yup.string()\r\n        .min(2, \"Профессия не должно быть короче 2 символов\")\r\n        .max(200, \"Профессия не должно превышать 200 символов\")\r\n        .required(\"Введите, пожалуйста, профессию\"),\r\n    }),\r\n    onSubmit: (values) => {\r\n      onUpdateUser({\r\n        name: values.fullName,\r\n        about: values.profession,\r\n      });\r\n    },\r\n  });\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-profile\"\r\n      title=\"Редактировать профиль\"\r\n      buttonText=\"Сохранить\"\r\n      onSubmit={formik.handleSubmit}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      disabledSubmit={!formik.isValid}\r\n    >\r\n      <fieldset className=\"popup__fieldset\">\r\n\r\n        <input\r\n          id=\"name-input\"\r\n          className=\"popup__input popup__input_text_full-name\"\r\n          type=\"text\"\r\n          {...formik.getFieldProps(\"fullName\")}\r\n          placeholder=\"Ваше имя\"\r\n        />\r\n        <span className=\"popup__error name-input-error\">\r\n          {formik.touched.fullName && formik.errors.fullName ? formik.errors.fullName : null}\r\n        </span>\r\n\r\n        <input\r\n          id=\"about-you-input\"\r\n          className=\"popup__input popup__input_text_profession\"\r\n          type=\"text\"\r\n          {...formik.getFieldProps(\"profession\")}\r\n          placeholder=\"Ваша профессия\"\r\n          required\r\n          minLength={2}\r\n          maxLength={200} />\r\n        <span className=\"popup__error name-input-error\">\r\n          {formik.touched.profession && formik.errors.profession ? formik.errors.profession : null}\r\n        </span>\r\n\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nEditProfilePopup.propTypes = {\r\n  onUpdateUser: PropTypes.func.isRequired,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ onUpdateAvatar, isOpen, onClose }) {\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      avatar: \"\",\r\n    },\r\n    validationSchema: Yup.object({\r\n      avatar: Yup.string()\r\n        .url(\"Введите, пожалуйста, корректную ссылку\")\r\n        .required(\"Введите, пожалуйста, ссылку на изображение\"),\r\n    }),\r\n    onSubmit: (values) => {\r\n      onUpdateAvatar({\r\n        avatar: values.avatar,\r\n      });\r\n    },\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    formik.resetForm();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-avatar\"\r\n      title=\"Обновить аватар\"\r\n      buttonText=\"Сохранить\"\r\n      onSubmit={formik.handleSubmit}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      disabledSubmit={!formik.isValid}\r\n    >\r\n      <fieldset className=\"popup__fieldset\">\r\n        <input\r\n          id=\"url-avatar-input\"\r\n          className=\"popup__input\"\r\n          type=\"url\"\r\n          {...formik.getFieldProps(\"avatar\")}\r\n          placeholder=\"Ссылка на аватар\"\r\n          required />\r\n        <span className=\"popup__error\">\r\n          {formik.touched.avatar && formik.errors.avatar ? formik.errors.avatar : null}\r\n        </span>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nEditAvatarPopup.propTypes = {\r\n  onUpdateAvatar: PropTypes.func.isRequired,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ onAddPlace, isOpen, onClose }) {\r\n\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      title: \"\",\r\n      pic: \"\",\r\n    },\r\n    validationSchema: Yup.object({\r\n      title: Yup.string()\r\n        .min(2, \"Название не должно быть короче 2 символов\")\r\n        .max(30, \"Название не должно превышать 30 символов\")\r\n        .required(\"Введите, пожалуйста, название\"),\r\n      pic: Yup.string()\r\n        .url(\"Введите, пожалуйста, корректную ссылку\")\r\n        .required(\"Введите, пожалуйста, ссылку на изображение\"),\r\n    }),\r\n    onSubmit: (values) => {\r\n      onAddPlace({\r\n        title: values.title,\r\n        pic: values.pic,\r\n      });\r\n    },\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    formik.resetForm();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-card\"\r\n      title=\"Новое место\"\r\n      buttonText=\"Создать\"\r\n      onSubmit={formik.handleSubmit}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      disabledSubmit={!formik.isValid}\r\n    >\r\n      <fieldset className=\"popup__fieldset\">\r\n        <input\r\n          id=\"title-pic-input\"\r\n          className=\"popup__input\"\r\n          type=\"text\"\r\n          {...formik.getFieldProps(\"title\")}\r\n          placeholder=\"Название места\"\r\n        />\r\n        <span className=\"popup__error\">\r\n          {formik.touched.title && formik.errors.title ? formik.errors.title : null}\r\n        </span>\r\n\r\n\r\n        <input\r\n          id=\"url-pic-input\"\r\n          className=\"popup__input popup__input_url_pic\"\r\n          type=\"url\"\r\n          {...formik.getFieldProps(\"pic\")}\r\n          placeholder=\"Ссылка на картинку\"\r\n        />\r\n                <span className=\"popup__error\">\r\n          {formik.touched.pic && formik.errors.pic ? formik.errors.pic : null}\r\n        </span>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nAddPlacePopup.propTypes = {\r\n  onAddPlace: PropTypes.func.isRequired,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import PropTypes from 'prop-types';\r\n\r\nimport buttonClosePopup from \"../images/button-сlose.svg\";\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n\r\n  return (\r\n    <div className={`popup popup_type_pic ${card ? \"popup_opened\" : \"\"}`} onClick={onClose}>\r\n      <div className=\"popup__container-pic\" onClick={(e) => e.stopPropagation()}>\r\n        <img className=\"popup__pic\" alt=\"Изображение отсутствует\" src={card?.link} />\r\n        <h2 className=\"popup__pic-title\">{`${card?.name} || ${card?.owner.name} (${card?.owner.about})`}</h2>\r\n        <button className=\"popup__button-close\" type=\"button\" aria-label=\"Закрыть картинку\">\r\n          <img className=\"popup__button-close-img\" src={buttonClosePopup} alt=\"Закрыть окно\" onClick={onClose} />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nImagePopup.propTypes = {\r\n  card: PropTypes.object,\r\n  onClose: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from \"react\";\r\n\r\nimport api from \"../utils/Api\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\n\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ImagePopup from \"./ImagePopup\";\r\n\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nimport \"../index.css\";\r\n\r\nfunction App() {\r\n  const [editAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  const [editProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\r\n  const [addCardPopupOpen, setAddCardPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState();\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([\r\n      api.getProfileData(),\r\n      api.getInitialCards()\r\n    ])\r\n      .then(([profile, cards]) => {\r\n        setCurrentUser(profile);\r\n        setCards(cards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }, []);\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddCardClick() {\r\n    setAddCardPopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setAddCardPopupOpen(false);\r\n    setSelectedCard(undefined);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    api.setProfileData(data.name, data.about)\r\n      .then((result) => {\r\n        setCurrentUser(result);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleUpdateAvatar({ avatar }) {\r\n    api.setAvatar(avatar)\r\n      .then((result) => {\r\n        setCurrentUser(result);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    setCards((state) => state.map((c) => c._id === card._id ? { ...c, likeClicked: true } : c));\r\n\r\n    const promise = isLiked ?\r\n      api.unlikeCard(card._id) :\r\n      api.likeCard(card._id);\r\n\r\n    promise\r\n      .then((card) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? card : c));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    setCards((state) => state.map((c) => c._id === card._id ? { ...c, deleteClicked: true } : c));\r\n\r\n    api.removeCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id !== card._id);\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleAddPlaceSubmit(data) {\r\n    api.createCard(data.title, data.pic)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <div className=\"page__container\">\r\n          <Header />\r\n\r\n          <Main\r\n            cards={cards}\r\n            currentUser={currentUser}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddCard={handleAddCardClick}\r\n            onCardClick={handleCardClick}\r\n          />\r\n\r\n          <Footer />\r\n        </div>\r\n\r\n        {currentUser.name &&\r\n          <EditProfilePopup\r\n            onUpdateUser={handleUpdateUser}\r\n            isOpen={editProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n          />\r\n        }\r\n\r\n        <EditAvatarPopup\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          isOpen={editAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          onAddPlace={handleAddPlaceSubmit}\r\n          isOpen={addCardPopupOpen}\r\n          onClose={closeAllPopups}\r\n        />\r\n\r\n        <ImagePopup\r\n          card={selectedCard}\r\n          onClose={closeAllPopups}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}