(this["webpackJsonpmesto-react-auth"]=this["webpackJsonpmesto-react-auth"]||[]).push([[0],{199:function(n,e,t){"use strict";t.r(e);var i=t(0),a=t.n(i),o=t(80),r=t.n(o),c=t(17),s=t(2),d=t(15),l=t(4),p=t(5),h=t(8),u=t(3),b=t(6),x=t(7),f=new(function(){function n(e){Object(b.a)(this,n),this._baseUrl=e.baseUrl,this._groupID=e.groupID,this._headers=e.headers}return Object(x.a)(n,[{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/").concat(this._groupID,"/cards"),{headers:{authorization:this._headers.authorization}}).then(this._handleResult)}},{key:"getProfileData",value:function(){return fetch("".concat(this._baseUrl,"/").concat(this._groupID,"/users/me"),{headers:{authorization:this._headers.authorization}}).then(this._handleResult)}},{key:"setAvatar",value:function(n){return fetch("".concat(this._baseUrl,"/").concat(this._groupID,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:n})}).then(this._handleResult)}},{key:"setProfileData",value:function(n,e){return fetch("".concat(this._baseUrl,"/").concat(this._groupID,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:n,about:e})}).then(this._handleResult)}},{key:"createCard",value:function(n,e){return fetch("".concat(this._baseUrl,"/").concat(this._groupID,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:n,link:e})}).then(this._handleResult)}},{key:"removeCard",value:function(n){return fetch("".concat(this._baseUrl,"/").concat(this._groupID,"/cards/").concat(n),{method:"DELETE",headers:this._headers}).then(this._handleResult)}},{key:"likeCard",value:function(n){return fetch("".concat(this._baseUrl,"/").concat(this._groupID,"/cards/likes/").concat(n),{method:"PUT",headers:this._headers}).then(this._handleResult)}},{key:"unlikeCard",value:function(n){return fetch("".concat(this._baseUrl,"/").concat(this._groupID,"/cards/likes/").concat(n),{method:"DELETE",headers:this._headers}).then(this._handleResult)}},{key:"_handleResult",value:function(n){return n.ok?n.json():Promise.reject("\u0421\u0442\u0430\u0442\u0443\u0442 \u043e\u0448\u0438\u0431\u043a\u0438: ".concat(n.status))}}]),n}())({baseUrl:"https://mesto.nomoreparties.co/v1",groupID:"cohort-26",headers:{authorization:"05288f01-26d1-4add-96c0-b100674c662e","Content-Type":"application/json"}}),j="https://auth.nomoreparties.co";function m(n){return n.ok?n.json():Promise.reject("\u0421\u0442\u0430\u0442\u0443\u0442 \u043e\u0448\u0438\u0431\u043a\u0438: ".concat(n.status))}var g,O,w,v,y,k,C,A,S,_,z=t(1),D=function(n){var e=n.path,t=n.children,i=n.loggedIn;return Object(z.jsx)(h.Route,{path:e,children:function(){return i?t:Object(z.jsx)(h.Redirect,{to:"./sign-in"})}})},E=t.p+"static/media/logo.9acae848.svg",P=t.p+"static/media/button-profile.ccf70202.svg",I=t.p+"static/media/button-\u0441lose-profile.245cc7c3.svg";var F,R,T,U,L,N,K,B,q,V,Q,X,J=Object(h.withRouter)((function(n){var e,t,i=n.loggedIn,o=n.pageType,r=n.userData,c=n.handleLogout,s=a.a.useState(!0),d=Object(p.a)(s,2),l=d[0],h=d[1],u=a.a.useState(!1),b=Object(p.a)(u,2),x=b[0],f=b[1],j="";function m(){"/content"===o&&(c(),f(!1))}function g(n){n.target.innerWidth<=680?h(!0):n.target.innerWidth>680&&h(!1)}return a.a.useEffect((function(){return window.addEventListener("resize",g),function(){return document.removeEventListener("resize",g)}}),[]),"/sign-in"===o?(e="\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",t="/sign-up"):"/sign-up"===o?(e="\u0412\u043e\u0439\u0442\u0438",t="/sign-in"):"/content"===o?(j=r,e="\u0412\u044b\u0439\u0442\u0438",t="/sign-in"):"/"===o&&(i?(j=r,e="\u0412\u044b\u0439\u0442\u0438",t="/sign-in"):(e="\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",t="/sign-up")),Object(z.jsxs)(z.Fragment,{children:[l&&i&&Object(z.jsxs)(W,{disabled:!x,children:[Object(z.jsx)(nn,{children:j}),Object(z.jsx)(tn,{to:t,onClick:m,children:e})]}),Object(z.jsxs)(M,{children:[Object(z.jsx)(H,{href:"/",children:Object(z.jsx)(Y,{src:E,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 Mesto"})}),i&&l?Object(z.jsx)(Z,{onClick:function(){f((function(n){return!n}))},children:Object(z.jsx)(G,{src:x?I:P,alt:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})}):Object(z.jsxs)($,{children:[j,Object(z.jsx)(en,{to:t,onClick:m,children:e})]})]})]})})),W=u.b.div(g||(g=Object(s.a)(["\n  width: 100%;\n  max-height: ",";\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  transition: ",";\n"])),(function(n){return n.disabled?"0px":"150px"}),(function(n){return n.disabled?"max-height 0.2s linear":"max-height 0.5s ease-in-out"})),M=u.b.header(O||(O=Object(s.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  opacity: 0.7;\n  border-bottom: 1px solid #545454;\n  margin: 45px 0 0 0;\n\n  @media (max-width: 680px) {\n    margin: 28px 0 0 0;\n  }\n"]))),H=u.b.a(w||(w=Object(s.a)(["\n  display: block;\n  cursor: pointer;\n  margin: 0 0 41px 0;\n\n  @media (max-width: 680px) {\n    margin: 0 0 28px 19px;\n  }\n"]))),Y=u.b.img(v||(v=Object(s.a)(["\n  width: 142px;\n  height: 33px;\n\n  @media (max-width: 680px) {\n    width: 104px;\n    height: 24px;\n  }\n"]))),Z=u.b.button(y||(y=Object(s.a)(["\n  width: 24px;\n  height: 18px;\n  background: transparent;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n  margin: 8px 0 0 0;\n  padding: 0;\n\n  @media (max-width: 680px) {\n    margin: 0 19px 28px 0;\n  }\n\n  :hover {\n    opacity: 0.6;\n  }\n"]))),G=u.b.img(k||(k=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n"]))),$=u.b.p(C||(C=Object(s.a)(["\n  color: #ffffff;\n  font-size: 18px;\n  line-height: 22px;\n  font-weight: 400;\n  text-decoration: none;\n  margin: 6px 0 46px;\n\n  @media (max-width: 680px) {\n    font-size: 14px;\n    line-height: 17px;\n    margin: 6px 19px 33px 0;\n  }\n"]))),nn=Object(u.b)($)(A||(A=Object(s.a)(["\n  margin: 40px 0 18px 0;\n"]))),en=Object(u.b)(c.b)(S||(S=Object(s.a)(["\n  color: #a9a9a9;\n  text-decoration: none;\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n  margin: 0 0 0 24px;\n\n  :hover {\n    opacity: 0.6;\n  }\n"]))),tn=Object(u.b)(en)(_||(_=Object(s.a)(["\n  font-size: 18px;\n  line-height: 22px;\n  font-weight: 400;\n  cursor: pointer;\n  margin: 0 0 40px 0;\n"]))),an=a.a.createContext(),on=t.p+"static/media/button-delete.e3c42771.svg",rn=t.p+"static/media/like.1ad06e85.svg";var cn,sn,dn,ln,pn,hn,un,bn,xn,fn,jn,mn,gn,On=function(n){var e=n.card,t=n.onClick,i=n.onLikeClick,o=n.onDeleteClick,r=a.a.useContext(an),c=e.owner._id===r._id,s=e.likes.some((function(n){return n._id===r._id}));return Object(z.jsxs)(yn,{children:[Object(z.jsx)(kn,{type:"button","aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onClick:function(){return o(e)},disabled:!c,children:Object(z.jsx)(Cn,{src:on,alt:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})}),Object(z.jsx)(An,{src:e.link,alt:e.name,onClick:function(){return t(e)}}),Object(z.jsxs)(Sn,{children:[Object(z.jsx)(_n,{children:e.name}),Object(z.jsxs)(zn,{type:"button","aria-label":"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",onClick:function(){return i(e)},children:[Object(z.jsx)(Dn,{waiting:e.likeClicked,src:s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAATCAYAAACUef2IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACgSURBVHgBtdANDcIwGIThAwWTMAlIQAIS5oRzgIRKQQI4qITNARyky5r9dd2+XvImJHx5tgwYVqm78uqjWvVUDaZrwn9tuH0pp+rx4SUC53pEt27lzsd4nUD7XAKN8Qobj3Mjwvexhv0p/DDfWXWwX/eD37Df37zC/hvf+ifQEOX49VkCtcAX0SN4Et2DE5ljCXQLThwcS6BzOGE8IgP9Amwn0q6ZcZjdAAAAAElFTkSuQmCC":rn,alt:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"}),Object(z.jsx)(En,{children:e.likes.length})]})]})]})},wn=Object(u.c)(F||(F=Object(s.a)(["\n  0% {\n    filter: brightness(100%);\n    filter: hue-rotate(0deg);\n  }\n  100% {\n    filter: brightness(100%);\n    filter: hue-rotate(360deg);\n  }\n"]))),vn=Object(u.c)(R||(R=Object(s.a)(["\n  from {\n    transform: rotate(10deg) scale(0.8);\n  }\n  50% {\n    transform: rotate(0deg) scale(1);\n  }\n  to {\n    transform: rotate(-10deg) scale(0.8);\n  }\n"]))),yn=u.b.li(T||(T=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  background: #FFFFFF;\n  border-radius: 11px;\n  list-style-type: none;\n  margin: 0;\n"]))),kn=u.b.button(U||(U=Object(s.a)(["\n  width: 22px;\n  height: 38px;\n  display: ",";\n  position: absolute;\n  top: 18px;\n  right: 18px;\n  background: transparent;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n  animation: none;\n  margin: 0;\n  padding: 0;\n  z-index: 1;\n\n  :hover {\n    opacity: 0.6;\n  }\n"])),(function(n){return n.disabled?"none":"inline"})),Cn=u.b.img(L||(L=Object(s.a)(["\n  width: 18px;\n  height: 19px;\n  margin: 0;\n"]))),An=u.b.img(N||(N=Object(s.a)(["\n  width: 100%;\n  height: 282px;\n  object-fit: cover;\n  border-top-left-radius: 11px;\n  border-top-right-radius: 11px;\n  z-index: 0;\n\n  :hover {\n    animation: "," 2s linear infinite;\n  }\n"])),wn),Sn=u.b.div(K||(K=Object(s.a)(["\n  width: 100%;\n  height: 70px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: auto;\n"]))),_n=u.b.h2(B||(B=Object(s.a)(["\n  font-size: 24px;\n  line-height: 29px;\n  font-weight: 900;\n  color: #000000;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0 0 0 18px;\n"]))),zn=u.b.button(q||(q=Object(s.a)(["\n  width: 22px;\n  height: 38px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  background: transparent;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n  margin: auto 18px auto 0;\n\n  :hover {\n    opacity: 0.5;\n  }\n"]))),Dn=u.b.img(V||(V=Object(s.a)(["\n  width: 22px;\n  height: 19px;\n  background: transparent;\n  ",";\n  margin: 0;\n\n  :hover {\n    opacity: 0.6;\n  }\n"])),(function(n){return n.waiting&&Object(u.a)(Q||(Q=Object(s.a)(["\n      animation: "," 0.03s ease-in-out infinite;\n    "])),vn)})),En=u.b.p(X||(X=Object(s.a)(["\n  display: block;\n  font-size: 13px;\n  line-height: 16px;\n  font-weight: 400;\n  margin: 0;\n"]))),Pn=t.p+"static/media/loader.3e10a767.gif",In=t.p+"static/media/button-edit.6c7bf054.svg",Fn=t.p+"static/media/button-add.bed8c136.svg",Rn=t.p+"static/media/button-edit-avatar.ae1a976d.svg";var Tn,Un,Ln=function(n){var e,t=n.cards,i=n.currentUser,a=n.onEditProfile,o=n.onEditAvatar,r=n.onAddCard,c=n.onCardClick,s=n.onCardLike,d=n.onCardDelete;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(Nn,{children:[Object(z.jsx)(Kn,{onClick:o,children:Object(z.jsx)(Bn,{src:null!==(e=i.avatar)&&void 0!==e?e:Pn,alt:"\u0424\u043e\u0442\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f"})}),Object(z.jsxs)(qn,{children:[Object(z.jsxs)(Vn,{children:[Object(z.jsx)(Qn,{id:"fullName",children:i.name}),Object(z.jsx)(Xn,{type:"button","aria-label":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",onClick:a,children:Object(z.jsx)(Jn,{src:In,alt:"\u041a\u043d\u043e\u043f\u043a\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0444\u0438\u043b\u044f"})})]}),Object(z.jsx)(Wn,{id:"profession",children:i.about})]}),Object(z.jsx)(Mn,{type:"button","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e",onClick:r,children:Object(z.jsx)(Hn,{src:Fn,alt:"\u041a\u043d\u043e\u043f\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u0435\u0441\u0442\u0430"})})]}),Object(z.jsx)(Yn,{children:Object(z.jsx)(Zn,{children:t.map((function(n){return Object(z.jsx)(On,{card:n,onClick:c,onLikeClick:s,onDeleteClick:d},n._id)}))})})]})},Nn=u.b.section(cn||(cn=Object(s.a)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  margin: 40px 0 0 0;\n\n  @media (max-width: 680px) {\n    flex-direction: column;\n  }\n"]))),Kn=u.b.button(sn||(sn=Object(s.a)(['\n  width: 120px;\n  height: 120px;\n  overflow: hidden;\n  position: relative;\n  background: transparent;\n  border: none;\n  border-radius: 50%;\n  outline: none;\n  cursor: pointer;\n  margin: 0 30px 0 0;\n  padding: 0;\n  z-index: 0;\n\n  @media (max-width: 980px) {\n    margin: 0 0 0 auto;\n  }\n\n  @media (max-width: 680px) {\n    margin: 0 auto;\n  }\n\n  ::after {\n    content: "";\n    width: 120px;\n    height: 120px;\n    visibility: hidden;\n    position: absolute;\n    top: 0;\n    left: 0;\n    background: #000000;\n    background-position: center;\n    opacity: 0;\n    outline: none;\n    transition: opacity 0.3s linear, visibility 0.3s linear;\n    margin: 0;\n    z-index: 2;\n  }\n\n  :hover::after {\n    visibility: visible;\n    background-image: url(',");\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: 26px;\n    opacity: 0.8;\n    z-index: 1;\n  }\n"])),Rn),Bn=u.b.img(dn||(dn=Object(s.a)(["\n  width: 120px;\n  height: 120px;\n  object-fit: cover;\n  margin: 0;\n  padding: 0;\n  z-index: 1;\n\n  @media (max-width: 980px) {\n    margin: 0 0 0 auto;\n  }\n\n  @media (max-width: 680px) {\n    margin: 0 auto;\n  }\n"]))),qn=u.b.div(ln||(ln=Object(s.a)(["\n  width: calc(100% - 350px);\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  margin: 0;\n\n  @media (max-width: 980px) {\n    max-width: calc(100% - 200px);\n    min-width: calc(100% - 300px);\n    margin: 0 auto;\n  }\n\n  @media (max-width: 680px) {\n    max-width: 282px;\n    min-width: 282px;\n    width: 282px;\n    margin: 0;\n  }\n"]))),Vn=u.b.div(pn||(pn=Object(s.a)(["\n  display: flex;\n  align-items: flex-end;\n\n  @media (max-width: 680px) {\n    margin: 26px auto 0;\n  }\n"]))),Qn=u.b.h1(hn||(hn=Object(s.a)(["\n  font-size: 42px;\n  line-height: 48px;\n  font-weight: 500;\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0;\n\n  @media (max-width: 680px) {\n    min-width: 50px;\n    max-width: 243px;\n    font-size: 28px;\n    line-height: 33px;\n  }\n"]))),Xn=u.b.button(un||(un=Object(s.a)(["\n  width: 24px;\n  height: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: transparent;\n  border: 1px solid #ffffff;\n  outline: none;\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n  margin: 0 0 9px 18px;\n\n  @media (max-width: 680px) {\n    width: 18px;\n    height: 18px;\n  }\n\n  :hover {\n    opacity: 0.6;\n  }\n"]))),Jn=u.b.img(bn||(bn=Object(s.a)(["\n  width: 10px;\n  height: 10px;\n\n  @media (max-width: 680px) {\n    width: 8px;\n    height: 8px;\n  }\n"]))),Wn=u.b.p(xn||(xn=Object(s.a)(["\n  font-size: 18px;\n  line-height: 22px;\n  font-weight: 400;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 16px 0 0 0;\n\n  @media (max-width: 680px) {\n    font-size: 14px;\n    line-height: 17px;\n    text-align: center;\n    margin: 14px 0 0 0;\n  }\n"]))),Mn=u.b.button(fn||(fn=Object(s.a)(["\n  width: 150px;\n  height: 50px;\n  background: transparent;\n  border: 2px solid #ffffff;\n  outline: none;\n  border-radius: 2px;\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n  margin: 0 0 0 auto;\n\n  @media (max-width: 980px) {\n    width: 282px;\n    margin: 49px auto 0 auto;\n  }\n\n  @media (max-width: 680px) {\n    margin: 36px 0 0 0;\n  }\n\n  :hover {\n    opacity: 0.6;\n  }\n"]))),Hn=u.b.img(jn||(jn=Object(s.a)(["\n  width: 22px;\n  height: 22px;\n  margin: auto;\n"]))),Yn=u.b.section(mn||(mn=Object(s.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin: 49px 0 0 0;\n\n  @media (max-width: 980px) {\n    margin: 29px 0 0 0;\n  }\n\n  @media (max-width: 680px) {\n    margin: 36px 0 0 0;\n  }\n"]))),Zn=u.b.ul(gn||(gn=Object(s.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 282px);\n  grid-template-rows: repeat(auto-fill, 361px);\n  grid-column-gap: 17px;\n  grid-row-gap: 20px;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n\n  @media (max-width: 980px) {\n    grid-template-columns: repeat(2, 282px);\n  }\n\n  @media (max-width: 680px) {\n    grid-template-columns: repeat(1, 282px);\n  }\n"])));var Gn,$n,ne,ee,te,ie,ae,oe,re,ce,se,de,le,pe,he=function(){return Object(z.jsx)(ue,{children:Object(z.jsx)(be,{children:"\xa9 2021 Mesto Russia"})})},ue=u.b.footer(Tn||(Tn=Object(s.a)(["\n  width: 100%;\n  margin: 100px 0 60px 0;\n\n  @media (max-width: 680px) {\n    margin: 70px 0 37px 0;\n  }\n"]))),be=u.b.p(Un||(Un=Object(s.a)(["\n  font-size: 18px;\n  line-height: 22px;\n  font-weight: 400;\n  color: #545454;\n  margin: 0;\n\n  @media (max-width: 680px) {\n    font-size: 14px;\n    line-height: 17px;\n    margin: 0 0 0 19px;\n  }\n"]))),xe=t(18),fe=u.b.section(Gn||(Gn=Object(s.a)(["\n  width: 358px;\n  text-align: center;\n  color: #ffffff;\n  margin: 0 auto;\n\n  @media (max-width: 680px) {\n    width: 260px;\n  }\n"]))),je=u.b.h1($n||($n=Object(s.a)(["\n  width: 100%;\n  font-size: 24px;\n  line-height: 29px;\n  font-weight: 900;\n  margin: 60px 0 20px;\n\n  @media (max-width: 680px) {\n    font-size: 20px;\n    line-height: 24px;\n    margin: 40px 0 10px;\n  }\n"]))),me=u.b.form(ne||(ne=Object(s.a)(["\n  width: 100%;\n"]))),ge=u.b.fieldset(ee||(ee=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border: none;\n  margin: 0;\n  padding: 0;\n"]))),Oe=u.b.input(te||(te=Object(s.a)(["\n  width: 358px;\n  height: 27px;\n  box-sizing: border-box;\n  background: transparent;\n  border: none;\n  border-bottom: 2px solid #ffffff;\n  outline: none;\n  font-size: 14px;\n  line-height: 17px;\n  font-weight: 500;\n  color: #ffffff;\n  margin: 30px 0 0;\n\n  @media (max-width: 680px) {\n    width: 260px;\n  }\n\n  ::placeholder {\n    font-weight: 400;\n    color: #ffffff;\n  }\n\n  :-webkit-autofill,\n  :-webkit-autofill:hover,\n  :-webkit-autofill:focus {\n    -webkit-text-fill-color: #ffffff;\n    -webkit-box-shadow: 0 0 0px 1000px #131414 inset;\n    transition: background-color 5000s ease-in-out 0s;\n  }\n"]))),we=u.b.div(ie||(ie=Object(s.a)(["\n  position: relative;\n"]))),ve=u.b.button(ae||(ae=Object(s.a)(["\n  width: 22px;\n  position: absolute;\n  bottom: 0px;\n  right: 10px;\n  background: transparent;\n  opacity: 0.6;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n  margin: 0;\n  padding: 0;\n\n  :hover {\n    opacity: 0.4;\n  }\n"]))),ye=u.b.img(oe||(oe=Object(s.a)(["\n  width: 100%;\n"]))),ke=u.b.span(re||(re=Object(s.a)(["\n  width: 358px;\n  height: 0;\n  display: inline-block;\n  font-size: 12px;\n  line-height: 13px;\n  font-weight: 400;\n  color: #ff0000;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0 auto -13px auto;\n  padding: 0 0 13px 0;\n\n  @media (max-width: 680px) {\n    width: 260px;\n  }\n"]))),Ce=u.b.button(ce||(ce=Object(s.a)(["\n  width: 100%;\n  height: 50px;\n  background: ",";\n  border: none;\n  border-radius: 2px;\n  outline: none;\n  font-size: 18px;\n  line-height: 22px;\n  color: ",";\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n  margin: 159px 0 0;\n\n  @media (max-width: 680px) {\n    height: 46px;\n    font-size: 16px;\n    line-height: 19px;\n    color: #000000;\n    margin: 116px 0 0;\n  }\n\n  :hover {\n    opacity: 0.85;\n  }\n"])),(function(n){return n.disabled?"#DDDDDD":"#FFFFFF"}),(function(n){return n.disabled?"#BBBBBB":"#000000"})),Ae=u.b.p(se||(se=Object(s.a)(["\n  width: 100%;\n  font-size: 14px;\n  line-height: 17px;\n  margin: 30px 0 0;\n\n  @media (max-width: 680px) {\n    margin: 20px 0 0;\n  }\n"]))),Se=Object(u.b)(c.b)(de||(de=Object(s.a)(["\n  color: #ffffff;\n  text-decoration: none;\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n\n  @media (max-width: 680px) {\n    opacity: 0.6;\n  }\n"]))),_e=u.b.div(le||(le=Object(s.a)(["\n  width: 60px;\n  height: 60px;\n  margin: 20px auto -80px auto;\n"]))),ze=u.b.img(pe||(pe=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n"])));var De=Object(h.withRouter)((function(n){var e=n.isLogined,t=n.authorization,i=Object(xe.a)({initialValues:{email:"",password:""},onSubmit:function(n){t({email:n.email,password:n.password})}});return Object(z.jsxs)(fe,{children:[Object(z.jsx)(je,{children:"\u0412\u0445\u043e\u0434"}),Object(z.jsxs)(me,{name:"login",onSubmit:i.handleSubmit,children:[Object(z.jsxs)(ge,{children:[Object(z.jsx)(Oe,Object(l.a)(Object(l.a)({id:"login-input-email",type:"email"},i.getFieldProps("email")),{},{placeholder:"Email",required:!0})),Object(z.jsx)(Oe,Object(l.a)(Object(l.a)({id:"login-input-pass",type:"password"},i.getFieldProps("password")),{},{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0}))]}),e&&Object(z.jsx)(_e,{children:Object(z.jsx)(ze,{src:Pn,alt:"\u0412\u0445\u043e\u0434"})}),Object(z.jsx)(Ce,{type:"submit","aria-label":"\u0412\u043e\u0439\u0442\u0438",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})),Ee=t(11),Pe=t.p+"static/media/icon-eye-open.3c6c9d33.svg",Ie=t.p+"static/media/icon-eye-close.0b8cce9b.svg";var Fe,Re,Te,Ue,Le,Ne,Ke,Be,qe,Ve,Qe=Object(h.withRouter)((function(n){var e=n.isRegistered,t=n.registration,i=a.a.useState(!1),o=Object(p.a)(i,2),r=o[0],c=o[1],s=a.a.useState(!1),d=Object(p.a)(s,2),h=d[0],u=d[1],b=Object(xe.a)({initialValues:{email:"",password:"",confirmPassword:""},validationSchema:Ee.a({email:Ee.c().email("\u0412\u0432\u0435\u0434\u0438\u0442\u0435, \u043f\u043e\u0436\u0443\u043b\u0443\u0439\u0441\u0442\u0430, \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, email"),password:Ee.c().min(8,"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043a\u043e\u0440\u043e\u0447\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").matches(/^[a-zA-Z0-9]/,"\u041f\u0430\u0440\u043e\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0436\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b").matches(/^(?=.*[A-Z])/,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f\u0431\u044b \u043e\u0434\u0438\u043d \u0441\u0438\u043c\u0432\u043e\u043b \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430").matches(/^(?=.*[a-z])/,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f\u0431\u044b \u043e\u0434\u0438\u043d \u0441\u0438\u043c\u0432\u043e\u043b \u043d\u0438\u0436\u043d\u0435\u0433\u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430").matches(/^(?=.*[0-9])/,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f\u0431\u044b \u043e\u0434\u043d\u0443 \u0446\u0438\u0444\u0440\u0443").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0430\u0440\u043e\u043b\u044c"),confirmPassword:Ee.c().oneOf([Ee.b("password"),null],"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430")}),onSubmit:function(n){t(n)}});return Object(z.jsxs)(fe,{children:[Object(z.jsx)(je,{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(z.jsxs)(me,{name:"register",onSubmit:b.handleSubmit,children:[Object(z.jsxs)(ge,{children:[Object(z.jsx)(Oe,Object(l.a)(Object(l.a)({id:"register-input-email",type:"email"},b.getFieldProps("email")),{},{placeholder:"Email"})),Object(z.jsx)(ke,{children:b.touched.email&&b.errors.email?b.errors.email:null}),Object(z.jsxs)(we,{children:[Object(z.jsx)(Oe,Object(l.a)(Object(l.a)({id:"register-input-pass",type:r?"text":"password"},b.getFieldProps("password")),{},{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})),Object(z.jsx)(ve,{onClick:function(){c((function(n){return!n}))},children:Object(z.jsx)(ye,{src:r?Pe:Ie,alt:r?"\u041f\u0430\u0440\u043e\u043b\u044c \u043f\u043e\u043a\u0430\u0437\u0430\u043d":"\u041f\u0430\u0440\u043e\u043b\u044c \u0441\u043a\u0440\u044b\u0442"})})]}),Object(z.jsx)(ke,{children:b.touched.password&&b.errors.password?b.errors.password:null}),Object(z.jsxs)(we,{children:[Object(z.jsx)(Oe,Object(l.a)(Object(l.a)({id:"register-input-confirm-pass",type:h?"text":"password"},b.getFieldProps("confirmPassword")),{},{placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"})),Object(z.jsx)(ve,{onClick:function(){u((function(n){return!n}))},children:Object(z.jsx)(ye,{src:h?Pe:Ie,alt:h?"\u041f\u0430\u0440\u043e\u043b\u044c \u043f\u043e\u043a\u0430\u0437\u0430\u043d":"\u041f\u0430\u0440\u043e\u043b\u044c \u0441\u043a\u0440\u044b\u0442"})})]}),Object(z.jsx)(ke,{children:b.touched.confirmPassword&&b.errors.confirmPassword?b.errors.confirmPassword:null})]}),e&&Object(z.jsx)(_e,{children:Object(z.jsx)(ze,{src:Pn,alt:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(z.jsx)(Ce,{type:"submit","aria-label":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",disabled:!b.isValid,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(z.jsxs)(Ae,{children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",Object(z.jsx)(Se,{to:"/sign-in",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})),Xe=u.b.h2(Fe||(Fe=Object(s.a)(["\n  width: 358px;\n  font-size: 24px;\n  line-height: 29px;\n  font-weight: 900;\n  color: #000000;\n  margin: 34px 0 0 0;\n\n  @media (max-width: 680px) {\n    width: 238px;\n    font-size: 18px;\n    line-height: 22px;\n    margin: 25px 0 25px 0;\n  }\n"]))),Je=u.b.form(Re||(Re=Object(s.a)(["\n  margin: 10px 0;\n"]))),We=u.b.fieldset(Te||(Te=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  border: 0;\n  line-height: 17px;\n  align-items: center;\n  font-size: 14px;\n  font-weight: 400;\n  color: #000000;\n  margin: 0;\n  padding: 0;\n"]))),Me=u.b.input(Ue||(Ue=Object(s.a)(["\n  width: 358px;\n  height: 27px;\n  background: transparent;\n  border: 0;\n  border-bottom: 1px solid ",";\n  outline: none;\n  margin: 30px 0 0 0;\n\n  @media (max-width: 680px) {\n    width: 238px;\n  }\n\n  ::placeholder {\n    color: #c4c4c4;\n  }\n"])),(function(n){return n.error?"#dddddd":"#ff0000"})),He=u.b.span(Le||(Le=Object(s.a)(["\n  width: 358px;\n  height: 0;\n  overflow: visible;\n  font-size: 12px;\n  line-height: 15px;\n  font-weight: 400;\n  color: #ff0000;\n  margin: 0 auto -5px auto;\n  padding: 5px 0 0 0;\n\n  @media (max-width: 680px) {\n    width: 238px;\n  }\n"]))),Ye=u.b.button(Ne||(Ne=Object(s.a)(["\n  width: 358px;\n  height: 50px;\n  background: ",";\n  ",";\n  border: ",";\n  border-radius: 2px;\n  outline: none;\n  font-size: 18px;\n  line-height: 22px;\n  font-weight: 400;\n  color: ",";\n  cursor: ",";\n\n  transition: opacity 0.5s ease-out;\n  margin: 38px 0 34px 0;\n\n  @media (max-width: 680px) {\n    width: 238px;\n    height: 46px;\n    font-size: 14px;\n    line-height: 17px;\n    margin: 45px 0 25px 0;\n  }\n\n  :hover {\n    opacity: 0.8;\n  }\n"])),(function(n){return n.disabled?"#ffffff":"#000000"}),(function(n){return n.disabled&&"opacity: 0.8"}),(function(n){return n.disabled?"1px solid #000000;":"none"}),(function(n){return n.disabled?"#000000":"#ffffff"}),(function(n){return n.disabled?"default":"pointer"})),Ze=u.b.div(Ke||(Ke=Object(s.a)(["\nwidth: 100vw;\nheight: 100vh;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nposition: fixed;\ntop: 0;\noverflow: hidden;\nvisibility: ",";\nopacity: ",";\nbackground: rgba(0, 0, 0, 0.5);\ntransition: all 0.3s ease-in;\nmargin: 0;\nz-index: ",";\n"])),(function(n){return n.opened?"visible":"hidden"}),(function(n){return n.opened?"1":"0"}),(function(n){return n.opened?"2":"-1"})),Ge=u.b.div(Be||(Be=Object(s.a)(["\n  width: 430px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  border-radius: 10px;\n  background: #ffffff;\n\n  @media (max-width: 680px) {\n    width: 282px;\n  }\n"]))),$e=u.b.button(qe||(qe=Object(s.a)(["\n  position: absolute;\n  top: -40px;\n  right: -40px;\n  background: transparent;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n  margin: 0;\n  padding: 0;\n\n  @media (max-width: 680px) {\n    right: 0;\n  }\n\n  :hover {\n    opacity: 0.6;\n  }\n"]))),nt=u.b.img(Ve||(Ve=Object(s.a)(["\n  width: 40px;\n  height: 40px;\n  transform: rotate(45deg);\n\n  @media (max-width: 680px) {\n    width: 26px;\n    height: 26px;\n  }\n"]))),et=t.p+"static/media/button-\u0441lose.9f1fbe67.svg";var tt=function(n){var e=n.title,t=(n.name,n.buttonText),i=n.children,o=n.isOpen,r=n.disabledSubmit,c=n.onSubmit,s=n.onClose,d=n.onKeydown,l=a.a.useState(!1),h=Object(p.a)(l,2),u=h[0],b=h[1];return a.a.useEffect((function(){b(!1)}),[o]),a.a.useEffect((function(){if(o)return document.addEventListener("keydown",d),function(){return document.removeEventListener("keydown",d)}}),[o]),Object(z.jsx)(Ze,{opened:o,onClick:s,children:Object(z.jsxs)(Ge,{onClick:function(n){return n.stopPropagation()},children:[Object(z.jsx)(Xe,{children:e}),Object(z.jsxs)(Je,{onSubmit:function(n){n.preventDefault(),c(),b(!0)},children:[i,Object(z.jsxs)(Ye,{type:"submit","aria-label":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",disabled:r,children:[t,u?"...":""]})]}),Object(z.jsx)($e,{type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043e\u043a\u043d\u043e",onClick:s,children:Object(z.jsx)(nt,{src:et,alt:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043e\u043a\u043d\u043e"})})]})})};var it=function(n){var e=n.onUpdateUser,t=n.isOpen,i=n.onClose,o=n.onKeydown,r=a.a.useContext(an),c=Object(xe.a)({initialValues:{fullName:r.name,profession:r.about},validationSchema:Ee.a({fullName:Ee.c().min(2,"\u0418\u043c\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043a\u043e\u0440\u043e\u0447\u0435 2 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(40,"\u0418\u043c\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 40 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0438\u043c\u044f"),profession:Ee.c().min(2,"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043a\u043e\u0440\u043e\u0447\u0435 2 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(200,"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 200 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044e")}),onSubmit:function(n){e({name:n.fullName,about:n.profession})}});return Object(z.jsx)(tt,{name:"edit-profile",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onSubmit:c.handleSubmit,isOpen:t,onClose:i,onKeydown:o,disabledSubmit:!c.isValid,children:Object(z.jsxs)(We,{children:[Object(z.jsx)(Me,Object(l.a)(Object(l.a)({id:"name-input",error:!c.errors.fullName,type:"text"},c.getFieldProps("fullName")),{},{placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f"})),Object(z.jsx)(He,{children:c.touched.fullName&&c.errors.fullName?c.errors.fullName:null}),Object(z.jsx)(Me,Object(l.a)(Object(l.a)({id:"about-you-input",error:!c.errors.profession,type:"text"},c.getFieldProps("profession")),{},{placeholder:"\u0412\u0430\u0448\u0430 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f"})),Object(z.jsx)(He,{children:c.touched.profession&&c.errors.profession?c.errors.profession:null})]})})};var at=function(n){var e=n.onUpdateAvatar,t=n.isOpen,i=n.onClose,o=n.onKeydown,r=Object(xe.a)({initialValues:{avatar:""},validationSchema:Ee.a({avatar:Ee.c().url("\u0412\u0432\u0435\u0434\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435")}),onSubmit:function(n){e({avatar:n.avatar})}});return a.a.useEffect((function(){r.resetForm()}),[t]),Object(z.jsx)(tt,{name:"edit-avatar",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onSubmit:r.handleSubmit,isOpen:t,onClose:i,onKeydown:o,disabledSubmit:!r.isValid,children:Object(z.jsxs)(We,{children:[Object(z.jsx)(Me,Object(l.a)(Object(l.a)({id:"url-avatar-input",error:!r.errors.avatar,type:"url"},r.getFieldProps("avatar")),{},{placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0430\u0432\u0430\u0442\u0430\u0440"})),Object(z.jsx)(He,{children:r.touched.avatar&&r.errors.avatar?r.errors.avatar:null})]})})};var ot,rt,ct,st=function(n){var e=n.onAddPlace,t=n.isOpen,i=n.onClose,o=n.onKeydown,r=Object(xe.a)({initialValues:{title:"",pic:""},validationSchema:Ee.a({title:Ee.c().min(2,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043a\u043e\u0440\u043e\u0447\u0435 2 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(30,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),pic:Ee.c().url("\u0412\u0432\u0435\u0434\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435")}),onSubmit:function(n){e({title:n.title,pic:n.pic})}});return a.a.useEffect((function(){r.resetForm()}),[t]),Object(z.jsx)(tt,{name:"add-card",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",buttonText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",onSubmit:r.handleSubmit,isOpen:t,onClose:i,onKeydown:o,disabledSubmit:!r.isValid,children:Object(z.jsxs)(We,{children:[Object(z.jsx)(Me,Object(l.a)(Object(l.a)({id:"title-pic-input",error:!r.errors.title,type:"text"},r.getFieldProps("title")),{},{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0441\u0442\u0430"})),Object(z.jsx)(He,{children:r.touched.title&&r.errors.title?r.errors.title:null}),Object(z.jsx)(Me,Object(l.a)(Object(l.a)({id:"url-pic-input",error:!r.errors.pic,type:"url"},r.getFieldProps("pic")),{},{placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"})),Object(z.jsx)(He,{children:r.touched.pic&&r.errors.pic?r.errors.pic:null})]})})};var dt=function(n){var e=n.card,t=n.isOpen,i=n.onClose,o=n.onKeydown;return a.a.useEffect((function(){if(t)return document.addEventListener("keydown",o),function(){return document.removeEventListener("keydown",o)}}),[t]),Object(z.jsx)(Ze,{opened:e,onClick:i,children:Object(z.jsxs)(lt,{onClick:function(n){return n.stopPropagation()},children:[Object(z.jsx)(pt,{alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442",src:null===e||void 0===e?void 0:e.link}),Object(z.jsx)(ht,{children:"".concat(null===e||void 0===e?void 0:e.name," || ").concat(null===e||void 0===e?void 0:e.owner.name," (").concat(null===e||void 0===e?void 0:e.owner.about,")")}),Object(z.jsx)($e,{type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",onClick:i,children:Object(z.jsx)(nt,{src:et,alt:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"})})]})})},lt=u.b.div(ot||(ot=Object(s.a)(["\n  max-width: 75vw;\n  max-height: 75vh;\n  display: flex;\n  position: relative;\n"]))),pt=u.b.img(rt||(rt=Object(s.a)(["\n  max-width: 100%;\n  max-height: 100%;\n  object-fit: cover;\n"]))),ht=u.b.h2(ct||(ct=Object(s.a)(["\n  position: absolute;\n  left: 0;\n  bottom: -25px;\n  font-size: 12px;\n  line-height: 15px;\n  font-weight: 400;\n  color: #ffffff;\n  margin: 0;\n"])));var ut,bt,xt=function(n){var e=n.card,t=n.onDelete,i=n.isOpen,a=n.onClose;return Object(z.jsx)(tt,{name:"edit-profile",title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",buttonText:"\u0414\u0430",onSubmit:function(){t(e).then((function(){a()}))},isOpen:i,onClose:a})},ft=t.p+"static/media/icon-ok.a9eb6caf.svg",jt=t.p+"static/media/icon-err.d4ce2a26.svg";var mt,gt,Ot,wt=function(n){var e=n.success,t=n.isOpen,i=n.onClose,o=n.onKeydown;return a.a.useEffect((function(){if(t)return document.addEventListener("keydown",o),function(){return document.removeEventListener("keydown",o)}}),[t]),Object(z.jsx)(Ze,{opened:t,onClick:i,children:Object(z.jsxs)(Ge,{onClick:function(n){return n.stopPropagation()},children:[Object(z.jsx)(vt,{src:e?ft:jt,alt:e?"\u041e\u041a":"\u041e\u0448\u0438\u0431\u043a\u0430"}),Object(z.jsx)(yt,{children:e?"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."}),Object(z.jsx)($e,{type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043e\u043a\u043d\u043e",onClick:i,children:Object(z.jsx)(nt,{src:et,alt:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043e\u043a\u043d\u043e"})})]})})},vt=u.b.img(ut||(ut=Object(s.a)(["\n  width: 120px;\n  height: 120px;\n  margin: 60px auto 32px auto;\n"]))),yt=u.b.p(bt||(bt=Object(s.a)(["\n  width: 83%;\n  height: 58px;\n  font-size: 24px;\n  line-height: 29px;\n  font-weight: 900;\n  color: #000000;\n  text-align: center;\n  margin: 0 auto 60px auto;\n\n  @media (max-width: 680px) {\n    width: 244px;\n    font-size: 20px;\n    line-height: 24px;\n    margin: 0 auto 50px auto;\n  }\n"]))),kt=(t(79),t(90));var Ct=Object(h.withRouter)((function(n){var e=n.history,t=a.a.useState(!1),i=Object(p.a)(t,2),o=i[0],r=i[1],c=a.a.useState(!1),s=Object(p.a)(c,2),u=s[0],b=s[1],x=a.a.useState(!1),g=Object(p.a)(x,2),O=g[0],w=g[1],v=a.a.useState(!1),y=Object(p.a)(v,2),k=y[0],C=y[1],A=a.a.useState(!1),S=Object(p.a)(A,2),_=S[0],E=S[1],P=a.a.useState(),I=Object(p.a)(P,2),F=I[0],R=I[1],T=a.a.useState(),U=Object(p.a)(T,2),L=U[0],N=U[1],K=a.a.useState({}),B=Object(p.a)(K,2),q=B[0],V=B[1],Q=a.a.useState([]),X=Object(p.a)(Q,2),W=X[0],M=X[1],H=a.a.useState(!1),Y=Object(p.a)(H,2),Z=Y[0],G=Y[1],$=a.a.useState(""),nn=Object(p.a)($,2),en=nn[0],tn=nn[1],on=a.a.useState(!1),rn=Object(p.a)(on,2),cn=rn[0],sn=rn[1],dn=a.a.useState(!1),ln=Object(p.a)(dn,2),pn=ln[0],hn=ln[1],un=Object(kt.useLocation)().pathname;function bn(n){C(!0),E(n)}function xn(){r(!1),b(!1),w(!1),C(!1),R(void 0),N(void 0)}function fn(n){"Escape"===n.key&&xn()}function jn(n){(function(n){return fetch("".concat(j,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then(m)})(n).then((function(n){n&&(tn(n.data.email),G(!0),e.push("/content"))})).catch((function(n){console.log(n)}))}return a.a.useEffect((function(){Promise.all([f.getProfileData(),f.getInitialCards()]).then((function(n){var e=Object(p.a)(n,2),t=e[0],i=e[1];V(t),M(i)})).catch((function(n){console.log(n)}))}),[]),a.a.useEffect((function(){var n=localStorage.getItem("token");n&&jn(n)}),[]),Object(z.jsx)(an.Provider,{value:q,children:Object(z.jsxs)(At,{children:[Object(z.jsxs)(St,{children:[Object(z.jsx)(J,{pageType:un,userData:en,handleLogout:function(){localStorage.removeItem("token"),G(!1)},loggedIn:Z}),Object(z.jsx)(_t,{children:Object(z.jsxs)(h.Switch,{children:[Object(z.jsx)(D,{path:"/content",loggedIn:Z,children:Object(z.jsx)(Ln,{cards:W,currentUser:q,onCardLike:function(n){var e=n.likes.some((function(n){return n._id===q._id}));M((function(e){return e.map((function(e){return e._id===n._id?Object(l.a)(Object(l.a)({},e),{},{likeClicked:!0}):e}))})),(e?f.unlikeCard(n._id):f.likeCard(n._id)).then((function(n){M((function(e){return e.map((function(e){return e._id===n._id?n:e}))}))})).catch((function(n){console.log(n)}))},onCardDelete:function(n){N(n)},onEditAvatar:function(){r(!0)},onEditProfile:function(){b(!0)},onAddCard:function(){w(!0)},onCardClick:function(n){R(n)}})}),Object(z.jsx)(h.Route,{path:"/sign-in",children:Object(z.jsx)(De,{isLogined:cn,authorization:function(n){sn(!0),function(n){var e=n.email,t=n.password;return fetch("".concat(j,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(m).then((function(n){return n.token?n.token:void 0}))}(n).then((function(n){n&&(localStorage.setItem("token",n),function(n){jn(n)}(n),sn(!1),e.push("/content"))})).catch((function(){bn(!1),sn(!1)}))}})}),Object(z.jsx)(h.Route,{path:"/sign-up",children:Object(z.jsx)(Qe,{isRegistered:pn,registration:function(n){hn(!0),n.password===n.confirmPassword&&function(n){var e=n.email,t=n.password;return fetch("".concat(j,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(m)}({email:n.email,password:n.password}).then((function(){bn(!0),hn(!1),e.push("/sign-in")})).catch((function(){bn(!1),hn(!1)}))}})}),Object(z.jsx)(h.Route,{exact:!0,path:"/",children:Z?Object(z.jsx)(h.Redirect,{to:"/content"}):Object(z.jsx)(h.Redirect,{to:"/sign-in"})})]})}),Object(z.jsx)(he,{})]}),q.name&&Object(z.jsx)(it,{onUpdateUser:function(n){f.setProfileData(n.name,n.about).then((function(n){V(n),xn()})).catch((function(n){console.log(n)}))},isOpen:u,onClose:xn,onKeydown:fn}),Object(z.jsx)(at,{onUpdateAvatar:function(n){var e=n.avatar;f.setAvatar(e).then((function(n){V(n),xn()})).catch((function(n){console.log(n)}))},isOpen:o,onClose:xn,onKeydown:fn}),Object(z.jsx)(st,{onAddPlace:function(n){f.createCard(n.title,n.pic).then((function(n){M([n].concat(Object(d.a)(W))),xn()})).catch((function(n){console.log(n)}))},isOpen:O,onClose:xn,onKeydown:fn}),Object(z.jsx)(dt,{card:F,isOpen:F,onClose:xn,onKeydown:fn}),Object(z.jsx)(xt,{card:L,onDelete:function(n){return M((function(e){return e.map((function(e){return e._id===n._id?Object(l.a)(Object(l.a)({},e),{},{deleteClicked:!0}):e}))})),f.removeCard(n._id).then((function(){var e=W.filter((function(e){return e._id!==n._id}));M(e)})).catch((function(n){console.log(n)}))},isOpen:void 0!==L,onClose:xn}),Object(z.jsx)(wt,{success:_,isOpen:k,onClose:xn,onKeydown:fn})]})})})),At=u.b.div(mt||(mt=Object(s.a)(['\n  min-height: 100vh;\n  max-width: 1280px;\n  min-width: 320px;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: #000000;\n  font-family: "Inter", Tahoma, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #ffffff;\n  margin: 0 auto;\n']))),St=u.b.div(gt||(gt=Object(s.a)(["\n  width: 880px;\n  margin: 0 200px;\n  padding: 0;\n\n  @media (max-width: 980px) {\n    width: 581px;\n    margin: 0 auto;\n  }\n\n  @media (max-width: 680px) {\n    width: 320px;\n  }\n"]))),_t=u.b.main(Ot||(Ot=Object(s.a)(["\n  width: 100%;\n"]))),zt=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,200)).then((function(e){var t=e.getCLS,i=e.getFID,a=e.getFCP,o=e.getLCP,r=e.getTTFB;t(n),i(n),a(n),o(n),r(n)}))};r.a.render(Object(z.jsx)(a.a.StrictMode,{children:Object(z.jsx)(c.a,{basename:"/mesto-react-auth",children:Object(z.jsx)(Ct,{})})}),document.getElementById("root")),zt()},79:function(n,e,t){}},[[199,1,2]]]);
//# sourceMappingURL=main.2b1dec58.chunk.js.map