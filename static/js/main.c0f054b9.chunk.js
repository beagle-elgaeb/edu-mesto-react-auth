(this["webpackJsonpmesto-react-auth"]=this["webpackJsonpmesto-react-auth"]||[]).push([[0],{199:function(n,e,t){"use strict";t.r(e);var i=t(0),a=t.n(i),o=t(80),r=t.n(o),c=t(19),s=t(2),d=t(15),l=t(4),p=t(5),h=t(8),u=t(3),x=t(6),b=t(7),f=new(function(){function n(e){Object(x.a)(this,n),this._baseUrl=e.baseUrl,this._groupID=e.groupID,this._headers=e.headers}return Object(b.a)(n,[{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/").concat(this._groupID,"/cards"),{headers:{authorization:this._headers.authorization}}).then(this._handleResult)}},{key:"getProfileData",value:function(){return fetch("".concat(this._baseUrl,"/").concat(this._groupID,"/users/me"),{headers:{authorization:this._headers.authorization}}).then(this._handleResult)}},{key:"setAvatar",value:function(n){return fetch("".concat(this._baseUrl,"/").concat(this._groupID,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:n})}).then(this._handleResult)}},{key:"setProfileData",value:function(n,e){return fetch("".concat(this._baseUrl,"/").concat(this._groupID,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:n,about:e})}).then(this._handleResult)}},{key:"createCard",value:function(n,e){return fetch("".concat(this._baseUrl,"/").concat(this._groupID,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:n,link:e})}).then(this._handleResult)}},{key:"removeCard",value:function(n){return fetch("".concat(this._baseUrl,"/").concat(this._groupID,"/cards/").concat(n),{method:"DELETE",headers:this._headers}).then(this._handleResult)}},{key:"likeCard",value:function(n){return fetch("".concat(this._baseUrl,"/").concat(this._groupID,"/cards/likes/").concat(n),{method:"PUT",headers:this._headers}).then(this._handleResult)}},{key:"unlikeCard",value:function(n){return fetch("".concat(this._baseUrl,"/").concat(this._groupID,"/cards/likes/").concat(n),{method:"DELETE",headers:this._headers}).then(this._handleResult)}},{key:"_handleResult",value:function(n){return n.ok?n.json():Promise.reject("\u0421\u0442\u0430\u0442\u0443\u0442 \u043e\u0448\u0438\u0431\u043a\u0438: ".concat(n.status))}}]),n}())({baseUrl:"https://mesto.nomoreparties.co/v1",groupID:"cohort-26",headers:{authorization:"05288f01-26d1-4add-96c0-b100674c662e","Content-Type":"application/json"}}),m="https://auth.nomoreparties.co";function g(n){return n.ok?n.json():Promise.reject("\u0421\u0442\u0430\u0442\u0443\u0442 \u043e\u0448\u0438\u0431\u043a\u0438: ".concat(n.status))}var j,O,w,v,y,k,C,A,S,z,_=t(1),D=function(n){var e=n.path,t=n.children,i=n.loggedIn;return Object(_.jsx)(h.Route,{path:e,children:function(){return i?t:Object(_.jsx)(h.Redirect,{to:"./sign-in"})}})},E=t.p+"static/media/logo.9acae848.svg",P=t.p+"static/media/button-profile.ccf70202.svg",F=t.p+"static/media/button-\u0441lose-profile.245cc7c3.svg";var I,R,T,U,L,B,N,K,q,V,Q,X,J=Object(h.withRouter)((function(n){var e,t,i=n.loggedIn,o=n.pageType,r=n.userData,c=n.handleLogout,s=a.a.useState(!0),d=Object(p.a)(s,2),l=d[0],h=d[1],u=a.a.useState(!1),x=Object(p.a)(u,2),b=x[0],f=x[1],m="";function g(){"/content"===o&&(c(),f(!1))}function j(n){n.target.innerWidth<=680?h(!0):n.target.innerWidth>680&&h(!1)}return a.a.useEffect((function(){return window.addEventListener("resize",j),function(){return document.removeEventListener("resize",j)}}),[]),"/sign-in"===o?(e="\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",t="/sign-up"):"/sign-up"===o?(e="\u0412\u043e\u0439\u0442\u0438",t="/sign-in"):"/content"===o?(m=r,e="\u0412\u044b\u0439\u0442\u0438",t="/sign-in"):"/"===o&&(i?(m=r,e="\u0412\u044b\u0439\u0442\u0438",t="/sign-in"):(e="\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",t="/sign-up")),Object(_.jsxs)(_.Fragment,{children:[l&&i&&Object(_.jsxs)(W,{disabled:!b,children:[Object(_.jsx)(nn,{children:m}),Object(_.jsx)(tn,{to:t,onClick:g,children:e})]}),Object(_.jsxs)(M,{children:[Object(_.jsx)(H,{href:"/",children:Object(_.jsx)(Y,{src:E,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 Mesto"})}),i&&l?Object(_.jsx)(Z,{onClick:function(){f((function(n){return!n}))},children:Object(_.jsx)(G,{src:b?F:P,alt:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})}):Object(_.jsxs)($,{children:[m,Object(_.jsx)(en,{to:t,onClick:g,children:e})]})]})]})})),W=u.b.div(j||(j=Object(s.a)(["\n  width: 100%;\n  max-height: ",";\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  transition: ",";\n"])),(function(n){return n.disabled?"0px":"150px"}),(function(n){return n.disabled?"max-height 0.2s linear":"max-height 0.5s ease-in-out"})),M=u.b.header(O||(O=Object(s.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  opacity: 0.7;\n  border-bottom: 1px solid #545454;\n  margin: 45px 0 0 0;\n\n  @media (max-width: 680px) {\n    margin: 28px 0 0 0;\n  }\n"]))),H=u.b.a(w||(w=Object(s.a)(["\n  display: block;\n  cursor: pointer;\n  margin: 0 0 41px 0;\n\n  @media (max-width: 680px) {\n    margin: 0 0 28px 19px;\n  }\n"]))),Y=u.b.img(v||(v=Object(s.a)(["\n  width: 142px;\n  height: 33px;\n\n  @media (max-width: 680px) {\n    width: 104px;\n    height: 24px;\n  }\n"]))),Z=u.b.button(y||(y=Object(s.a)(["\n  width: 24px;\n  height: 18px;\n  background: transparent;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n  margin: 8px 0 0 0;\n  padding: 0;\n\n  @media (max-width: 680px) {\n    margin: 0 19px 28px 0;\n  }\n\n  :hover {\n    opacity: 0.6;\n  }\n"]))),G=u.b.img(k||(k=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n"]))),$=u.b.p(C||(C=Object(s.a)(["\n  color: #ffffff;\n  font-size: 18px;\n  line-height: 22px;\n  font-weight: 400;\n  text-decoration: none;\n  margin: 6px 0 46px;\n\n  @media (max-width: 680px) {\n    font-size: 14px;\n    line-height: 17px;\n    margin: 6px 19px 33px 0;\n  }\n"]))),nn=Object(u.b)($)(A||(A=Object(s.a)(["\n  margin: 40px 0 18px 0;\n"]))),en=Object(u.b)(c.b)(S||(S=Object(s.a)(["\n  color: #a9a9a9;\n  text-decoration: none;\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n  margin: 0 0 0 24px;\n\n  :hover {\n    opacity: 0.6;\n  }\n"]))),tn=Object(u.b)(en)(z||(z=Object(s.a)(["\n  font-size: 18px;\n  line-height: 22px;\n  font-weight: 400;\n  cursor: pointer;\n  margin: 0 0 40px 0;\n"]))),an=a.a.createContext(),on=t.p+"static/media/button-delete.e3c42771.svg",rn=t.p+"static/media/like.1ad06e85.svg";var cn,sn,dn,ln,pn,hn,un,xn,bn,fn,mn,gn,jn,On=function(n){var e=n.card,t=n.onClick,i=n.onLikeClick,o=n.onDeleteClick,r=a.a.useContext(an),c=e.owner._id===r._id,s=e.likes.some((function(n){return n._id===r._id}));return Object(_.jsxs)(yn,{children:[Object(_.jsx)(kn,{type:"button","aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onClick:function(){return o(e)},disabled:!c,children:Object(_.jsx)(Cn,{src:on,alt:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})}),Object(_.jsx)(An,{src:e.link,alt:e.name,onClick:function(){return t(e)}}),Object(_.jsxs)(Sn,{children:[Object(_.jsx)(zn,{children:e.name}),Object(_.jsxs)(_n,{type:"button","aria-label":"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",onClick:function(){return i(e)},children:[Object(_.jsx)(Dn,{waiting:e.likeClicked,src:s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAATCAYAAACUef2IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACgSURBVHgBtdANDcIwGIThAwWTMAlIQAIS5oRzgIRKQQI4qITNARyky5r9dd2+XvImJHx5tgwYVqm78uqjWvVUDaZrwn9tuH0pp+rx4SUC53pEt27lzsd4nUD7XAKN8Qobj3Mjwvexhv0p/DDfWXWwX/eD37Df37zC/hvf+ifQEOX49VkCtcAX0SN4Et2DE5ljCXQLThwcS6BzOGE8IgP9Amwn0q6ZcZjdAAAAAElFTkSuQmCC":rn,alt:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"}),Object(_.jsx)(En,{children:e.likes.length})]})]})]})},wn=Object(u.c)(I||(I=Object(s.a)(["\n  0% {\n    filter: brightness(100%);\n    filter: hue-rotate(0deg);\n  }\n  100% {\n    filter: brightness(100%);\n    filter: hue-rotate(360deg);\n  }\n"]))),vn=Object(u.c)(R||(R=Object(s.a)(["\n  from {\n    transform: rotate(10deg) scale(0.8);\n  }\n  50% {\n    transform: rotate(0deg) scale(1);\n  }\n  to {\n    transform: rotate(-10deg) scale(0.8);\n  }\n"]))),yn=u.b.li(T||(T=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  background: #FFFFFF;\n  border-radius: 11px;\n  list-style-type: none;\n  margin: 0;\n"]))),kn=u.b.button(U||(U=Object(s.a)(["\n  width: 22px;\n  height: 38px;\n  display: ",";\n  position: absolute;\n  top: 18px;\n  right: 18px;\n  background: transparent;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n  animation: none;\n  margin: 0;\n  padding: 0;\n  z-index: 1;\n\n  :hover {\n    opacity: 0.6;\n  }\n"])),(function(n){return n.disabled?"none":"inline"})),Cn=u.b.img(L||(L=Object(s.a)(["\n  width: 18px;\n  height: 19px;\n  margin: 0;\n"]))),An=u.b.img(B||(B=Object(s.a)(["\n  width: 100%;\n  height: 282px;\n  object-fit: cover;\n  border-top-left-radius: 11px;\n  border-top-right-radius: 11px;\n  z-index: 0;\n\n  :hover {\n    animation: "," 2s linear infinite;\n  }\n"])),wn),Sn=u.b.div(N||(N=Object(s.a)(["\n  width: 100%;\n  height: 70px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: auto;\n"]))),zn=u.b.h2(K||(K=Object(s.a)(["\n  font-size: 24px;\n  line-height: 29px;\n  font-weight: 900;\n  color: #000000;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0 0 0 18px;\n"]))),_n=u.b.button(q||(q=Object(s.a)(["\n  width: 22px;\n  height: 38px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  background: transparent;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n  margin: auto 18px auto 0;\n\n  :hover {\n    opacity: 0.5;\n  }\n"]))),Dn=u.b.img(V||(V=Object(s.a)(["\n  width: 22px;\n  height: 19px;\n  background: transparent;\n  ",";\n  margin: 0;\n\n  :hover {\n    opacity: 0.6;\n  }\n"])),(function(n){return n.waiting&&Object(u.a)(Q||(Q=Object(s.a)(["\n      animation: "," 0.03s ease-in-out infinite;\n    "])),vn)})),En=u.b.p(X||(X=Object(s.a)(["\n  display: block;\n  font-size: 13px;\n  line-height: 16px;\n  font-weight: 400;\n  margin: 0;\n"]))),Pn=t.p+"static/media/loader.3e10a767.gif",Fn=t.p+"static/media/button-edit.6c7bf054.svg",In=t.p+"static/media/button-add.bed8c136.svg",Rn=t.p+"static/media/button-edit-avatar.ae1a976d.svg";var Tn,Un,Ln=function(n){var e,t=n.cards,i=n.currentUser,a=n.onEditProfile,o=n.onEditAvatar,r=n.onAddCard,c=n.onCardClick,s=n.onCardLike,d=n.onCardDelete;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(Bn,{children:[Object(_.jsx)(Nn,{onClick:o,children:Object(_.jsx)(Kn,{src:null!==(e=i.avatar)&&void 0!==e?e:Pn,alt:"\u0424\u043e\u0442\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f"})}),Object(_.jsxs)(qn,{children:[Object(_.jsxs)(Vn,{children:[Object(_.jsx)(Qn,{id:"fullName",children:i.name}),Object(_.jsx)(Xn,{type:"button","aria-label":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",onClick:a,children:Object(_.jsx)(Jn,{src:Fn,alt:"\u041a\u043d\u043e\u043f\u043a\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0444\u0438\u043b\u044f"})})]}),Object(_.jsx)(Wn,{id:"profession",children:i.about})]}),Object(_.jsx)(Mn,{type:"button","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e",onClick:r,children:Object(_.jsx)(Hn,{src:In,alt:"\u041a\u043d\u043e\u043f\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u0435\u0441\u0442\u0430"})})]}),Object(_.jsx)(Yn,{children:Object(_.jsx)(Zn,{children:t.map((function(n){return Object(_.jsx)(On,{card:n,onClick:c,onLikeClick:s,onDeleteClick:d},n._id)}))})})]})},Bn=u.b.section(cn||(cn=Object(s.a)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  margin: 40px 0 0 0;\n\n  @media (max-width: 680px) {\n    flex-direction: column;\n  }\n"]))),Nn=u.b.button(sn||(sn=Object(s.a)(['\n  width: 120px;\n  height: 120px;\n  overflow: hidden;\n  position: relative;\n  background: transparent;\n  border: none;\n  border-radius: 50%;\n  outline: none;\n  cursor: pointer;\n  margin: 0 30px 0 0;\n  padding: 0;\n  z-index: 0;\n\n  @media (max-width: 980px) {\n    margin: 0 0 0 auto;\n  }\n\n  @media (max-width: 680px) {\n    margin: 0 auto;\n  }\n\n  ::after {\n    content: "";\n    width: 120px;\n    height: 120px;\n    visibility: hidden;\n    position: absolute;\n    top: 0;\n    left: 0;\n    background: #000000;\n    background-position: center;\n    opacity: 0;\n    outline: none;\n    transition: opacity 0.3s linear, visibility 0.3s linear;\n    margin: 0;\n    z-index: 2;\n  }\n\n  :hover::after {\n    visibility: visible;\n    background-image: url(',");\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: 26px;\n    opacity: 0.8;\n    z-index: 1;\n  }\n"])),Rn),Kn=u.b.img(dn||(dn=Object(s.a)(["\n  width: 120px;\n  height: 120px;\n  object-fit: cover;\n  margin: 0;\n  padding: 0;\n  z-index: 1;\n\n  @media (max-width: 980px) {\n    margin: 0 0 0 auto;\n  }\n\n  @media (max-width: 680px) {\n    margin: 0 auto;\n  }\n"]))),qn=u.b.div(ln||(ln=Object(s.a)(["\n  width: calc(100% - 350px);\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  margin: 0;\n\n  @media (max-width: 980px) {\n    max-width: calc(100% - 200px);\n    min-width: calc(100% - 300px);\n    margin: 0 auto;\n  }\n\n  @media (max-width: 680px) {\n    max-width: 282px;\n    min-width: 282px;\n    width: 282px;\n    margin: 0;\n  }\n"]))),Vn=u.b.div(pn||(pn=Object(s.a)(["\n  display: flex;\n  align-items: flex-end;\n\n  @media (max-width: 680px) {\n    margin: 26px auto 0;\n  }\n"]))),Qn=u.b.h1(hn||(hn=Object(s.a)(["\n  font-size: 42px;\n  line-height: 48px;\n  font-weight: 500;\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0;\n\n  @media (max-width: 680px) {\n    min-width: 50px;\n    max-width: 243px;\n    font-size: 28px;\n    line-height: 33px;\n  }\n"]))),Xn=u.b.button(un||(un=Object(s.a)(["\n  width: 24px;\n  height: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: transparent;\n  border: 1px solid #ffffff;\n  outline: none;\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n  margin: 0 0 9px 18px;\n\n  @media (max-width: 680px) {\n    width: 18px;\n    height: 18px;\n  }\n\n  :hover {\n    opacity: 0.6;\n  }\n"]))),Jn=u.b.img(xn||(xn=Object(s.a)(["\n  width: 10px;\n  height: 10px;\n\n  @media (max-width: 680px) {\n    width: 8px;\n    height: 8px;\n  }\n"]))),Wn=u.b.p(bn||(bn=Object(s.a)(["\n  font-size: 18px;\n  line-height: 22px;\n  font-weight: 400;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 16px 0 0 0;\n\n  @media (max-width: 680px) {\n    font-size: 14px;\n    line-height: 17px;\n    text-align: center;\n    margin: 14px 0 0 0;\n  }\n"]))),Mn=u.b.button(fn||(fn=Object(s.a)(["\n  width: 150px;\n  height: 50px;\n  background: transparent;\n  border: 2px solid #ffffff;\n  outline: none;\n  border-radius: 2px;\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n  margin: 0 0 0 auto;\n\n  @media (max-width: 980px) {\n    width: 282px;\n    margin: 49px auto 0 auto;\n  }\n\n  @media (max-width: 680px) {\n    margin: 36px 0 0 0;\n  }\n\n  :hover {\n    opacity: 0.6;\n  }\n"]))),Hn=u.b.img(mn||(mn=Object(s.a)(["\n  width: 22px;\n  height: 22px;\n  margin: auto;\n"]))),Yn=u.b.section(gn||(gn=Object(s.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin: 49px 0 0 0;\n\n  @media (max-width: 980px) {\n    margin: 29px 0 0 0;\n  }\n\n  @media (max-width: 680px) {\n    margin: 36px 0 0 0;\n  }\n"]))),Zn=u.b.ul(jn||(jn=Object(s.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 282px);\n  grid-template-rows: repeat(auto-fill, 361px);\n  grid-column-gap: 17px;\n  grid-row-gap: 20px;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n\n  @media (max-width: 980px) {\n    grid-template-columns: repeat(2, 282px);\n  }\n\n  @media (max-width: 680px) {\n    grid-template-columns: repeat(1, 282px);\n  }\n"])));var Gn,$n,ne,ee,te,ie,ae,oe,re=function(){return Object(_.jsx)(ce,{children:Object(_.jsx)(se,{children:"\xa9 2021 Mesto Russia"})})},ce=u.b.footer(Tn||(Tn=Object(s.a)(["\n  width: 100%;\n  margin: 100px 0 60px 0;\n\n  @media (max-width: 680px) {\n    margin: 70px 0 37px 0;\n  }\n"]))),se=u.b.p(Un||(Un=Object(s.a)(["\n  font-size: 18px;\n  line-height: 22px;\n  font-weight: 400;\n  color: #545454;\n  margin: 0;\n\n  @media (max-width: 680px) {\n    font-size: 14px;\n    line-height: 17px;\n    margin: 0 0 0 19px;\n  }\n"]))),de=t(17);var le,pe,he,ue,xe,be,fe,me,ge,je,Oe,we,ve,ye,ke=Object(h.withRouter)((function(n){var e=n.isLogined,t=n.authorization,i=Object(de.a)({initialValues:{email:"",password:""},onSubmit:function(n){t({email:n.email,password:n.password})}});return Object(_.jsxs)(Ce,{children:[Object(_.jsx)(Ae,{children:"\u0412\u0445\u043e\u0434"}),Object(_.jsxs)(Se,{name:"login",onSubmit:i.handleSubmit,children:[Object(_.jsxs)(ze,{children:[Object(_.jsx)(_e,Object(l.a)(Object(l.a)({id:"login-input-email",type:"email"},i.getFieldProps("email")),{},{placeholder:"Email",required:!0})),Object(_.jsx)(_e,Object(l.a)(Object(l.a)({id:"login-input-pass",type:"password"},i.getFieldProps("password")),{},{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0}))]}),e&&Object(_.jsx)(Ee,{children:Object(_.jsx)(Pe,{src:Pn,alt:"\u0412\u0445\u043e\u0434"})}),Object(_.jsx)(De,{type:"submit","aria-label":"\u0412\u043e\u0439\u0442\u0438",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})),Ce=u.b.section(Gn||(Gn=Object(s.a)(["\n  width: 358px;\n  text-align: center;\n  color: #ffffff;\n  margin: 0 auto;\n\n  @media (max-width: 680px) {\n    width: 260px;\n  }\n"]))),Ae=u.b.h1($n||($n=Object(s.a)(["\n  width: 100%;\n  font-size: 24px;\n  line-height: 29px;\n  font-weight: 900;\n  margin: 60px 0 20px;\n\n  @media (max-width: 680px) {\n    font-size: 20px;\n    line-height: 24px;\n    margin: 40px 0 10px;\n  }\n"]))),Se=u.b.form(ne||(ne=Object(s.a)(["\n  width: 100%;\n"]))),ze=u.b.fieldset(ee||(ee=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border: none;\n  margin: 0;\n  padding: 0;\n"]))),_e=u.b.input(te||(te=Object(s.a)(["\n  width: 358px;\n  height: 27px;\n  box-sizing: border-box;\n  background: transparent;\n  border: none;\n  border-bottom: 2px solid #ffffff;\n  outline: none;\n  font-size: 14px;\n  line-height: 17px;\n  font-weight: 500;\n  color: #ffffff;\n  margin: 30px 0 0;\n\n  @media (max-width: 680px) {\n    width: 260px;\n  }\n\n  ::placeholder {\n    font-weight: 400;\n    color: #ffffff;\n  }\n\n  :-webkit-autofill,\n  :-webkit-autofill:hover,\n  :-webkit-autofill:focus {\n    -webkit-text-fill-color: #ffffff;\n    -webkit-box-shadow: 0 0 0px 1000px #131414 inset;\n    transition: background-color 5000s ease-in-out 0s;\n  }\n"]))),De=u.b.button(ie||(ie=Object(s.a)(["\n  width: 100%;\n  height: 50px;\n  background: ",";\n  border: none;\n  border-radius: 2px;\n  outline: none;\n  font-size: 18px;\n  line-height: 22px;\n  color: ",";\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n  margin: 159px 0 0;\n\n  @media (max-width: 680px) {\n    height: 46px;\n    font-size: 16px;\n    line-height: 19px;\n    color: #000000;\n    margin: 116px 0 0;\n  }\n\n  :hover {\n    opacity: 0.85;\n  }\n"])),(function(n){return n.disabled?"#DDDDDD":"#FFFFFF"}),(function(n){return n.disabled?"#BBBBBB":"#000000"})),Ee=u.b.div(ae||(ae=Object(s.a)(["\n  width: 60px;\n  height: 60px;\n  margin: 20px auto -80px auto;\n"]))),Pe=u.b.img(oe||(oe=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n"]))),Fe=t(11),Ie=t.p+"static/media/icon-eye-open.3c6c9d33.svg",Re=t.p+"static/media/icon-eye-close.0b8cce9b.svg";var Te,Ue,Le,Be,Ne,Ke,qe,Ve=Object(h.withRouter)((function(n){var e=n.isRegistered,t=n.registration,i=a.a.useState(!1),o=Object(p.a)(i,2),r=o[0],c=o[1],s=a.a.useState(!1),d=Object(p.a)(s,2),h=d[0],u=d[1],x=Object(de.a)({initialValues:{email:"",password:"",confirmPassword:""},validationSchema:Fe.a({email:Fe.c().email("\u0412\u0432\u0435\u0434\u0438\u0442\u0435, \u043f\u043e\u0436\u0443\u043b\u0443\u0439\u0441\u0442\u0430, \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, email"),password:Fe.c().min(8,"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043a\u043e\u0440\u043e\u0447\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").matches(/^[a-zA-Z0-9]/,"\u041f\u0430\u0440\u043e\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0436\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b").matches(/^(?=.*[A-Z])/,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f\u0431\u044b \u043e\u0434\u0438\u043d \u0441\u0438\u043c\u0432\u043e\u043b \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430").matches(/^(?=.*[a-z])/,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f\u0431\u044b \u043e\u0434\u0438\u043d \u0441\u0438\u043c\u0432\u043e\u043b \u043d\u0438\u0436\u043d\u0435\u0433\u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430").matches(/^(?=.*[0-9])/,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f\u0431\u044b \u043e\u0434\u043d\u0443 \u0446\u0438\u0444\u0440\u0443").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0430\u0440\u043e\u043b\u044c"),confirmPassword:Fe.c().oneOf([Fe.b("password"),null],"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430")}),onSubmit:function(n){t(n)}});return Object(_.jsxs)(Qe,{children:[Object(_.jsx)(Xe,{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(_.jsxs)(Je,{name:"register",onSubmit:x.handleSubmit,children:[Object(_.jsxs)(We,{children:[Object(_.jsx)(Me,Object(l.a)(Object(l.a)({id:"register-input-email",type:"email"},x.getFieldProps("email")),{},{placeholder:"Email"})),Object(_.jsx)(Ge,{children:x.touched.email&&x.errors.email?x.errors.email:null}),Object(_.jsxs)(He,{children:[Object(_.jsx)(Me,Object(l.a)(Object(l.a)({id:"register-input-pass",type:r?"text":"password"},x.getFieldProps("password")),{},{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})),Object(_.jsx)(Ye,{onClick:function(){c((function(n){return!n}))},children:Object(_.jsx)(Ze,{src:r?Ie:Re,alt:r?"\u041f\u0430\u0440\u043e\u043b\u044c \u043f\u043e\u043a\u0430\u0437\u0430\u043d":"\u041f\u0430\u0440\u043e\u043b\u044c \u0441\u043a\u0440\u044b\u0442"})})]}),Object(_.jsx)(Ge,{children:x.touched.password&&x.errors.password?x.errors.password:null}),Object(_.jsxs)(He,{children:[Object(_.jsx)(Me,Object(l.a)(Object(l.a)({id:"register-input-confirm-pass",type:h?"text":"password"},x.getFieldProps("confirmPassword")),{},{placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"})),Object(_.jsx)(Ye,{onClick:function(){u((function(n){return!n}))},children:Object(_.jsx)(Ze,{src:h?Ie:Re,alt:h?"\u041f\u0430\u0440\u043e\u043b\u044c \u043f\u043e\u043a\u0430\u0437\u0430\u043d":"\u041f\u0430\u0440\u043e\u043b\u044c \u0441\u043a\u0440\u044b\u0442"})})]}),Object(_.jsx)(Ge,{children:x.touched.confirmPassword&&x.errors.confirmPassword?x.errors.confirmPassword:null})]}),e&&Object(_.jsx)(tt,{children:Object(_.jsx)(it,{src:Pn,alt:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(_.jsx)($e,{type:"submit","aria-label":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",disabled:!x.isValid,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(_.jsxs)(nt,{children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",Object(_.jsx)(et,{to:"/sign-in",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})),Qe=u.b.section(le||(le=Object(s.a)(["\n  width: 358px;\n  text-align: center;\n  color: #ffffff;\n  margin: 0 auto;\n\n  @media (max-width: 680px) {\n    width: 260px;\n  }\n"]))),Xe=u.b.h1(pe||(pe=Object(s.a)(["\n  width: 100%;\n  font-size: 24px;\n  line-height: 29px;\n  font-weight: 900;\n  margin: 60px 0 20px;\n\n  @media (max-width: 680px) {\n    font-size: 20px;\n    line-height: 24px;\n    margin: 40px 0 10px;\n  }\n"]))),Je=u.b.form(he||(he=Object(s.a)(["\n  width: 100%;\n"]))),We=u.b.fieldset(ue||(ue=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border: none;\n  margin: 0;\n  padding: 0;\n"]))),Me=u.b.input(xe||(xe=Object(s.a)(["\n  width: 358px;\n  height: 27px;\n  box-sizing: border-box;\n  background: transparent;\n  border: none;\n  border-bottom: 2px solid #ffffff;\n  outline: none;\n  font-size: 14px;\n  line-height: 17px;\n  font-weight: 500;\n  color: #ffffff;\n  margin: 30px 0 0;\n\n  @media (max-width: 680px) {\n    width: 260px;\n  }\n\n  ::placeholder {\n    font-weight: 400;\n    color: #ffffff;\n  }\n\n  :-webkit-autofill,\n  :-webkit-autofill:hover,\n  :-webkit-autofill:focus {\n    -webkit-text-fill-color: #ffffff;\n    -webkit-box-shadow: 0 0 0px 1000px #131414 inset;\n    transition: background-color 5000s ease-in-out 0s;\n  }\n"]))),He=u.b.div(be||(be=Object(s.a)(["\n  position: relative;\n"]))),Ye=u.b.button(fe||(fe=Object(s.a)(["\n  width: 22px;\n  position: absolute;\n  bottom: 0px;\n  right: 10px;\n  background: transparent;\n  opacity: 0.6;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n  margin: 0;\n  padding: 0;\n\n  :hover {\n    opacity: 0.4;\n  }\n"]))),Ze=u.b.img(me||(me=Object(s.a)(["\n  width: 100%;\n"]))),Ge=u.b.span(ge||(ge=Object(s.a)(["\n  width: 358px;\n  height: 0;\n  display: inline-block;\n  font-size: 12px;\n  line-height: 13px;\n  font-weight: 400;\n  color: #ff0000;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0 auto -13px auto;\n  padding: 0 0 13px 0;\n\n  @media (max-width: 680px) {\n    width: 260px;\n  }\n"]))),$e=u.b.button(je||(je=Object(s.a)(["\n  width: 100%;\n  height: 50px;\n  background: ",";\n  border: none;\n  border-radius: 2px;\n  outline: none;\n  font-size: 18px;\n  line-height: 22px;\n  color: ",";\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n  margin: 159px 0 0;\n\n  @media (max-width: 680px) {\n    height: 46px;\n    font-size: 16px;\n    line-height: 19px;\n    color: #000000;\n    margin: 116px 0 0;\n  }\n\n  :hover {\n    opacity: 0.85;\n  }\n"])),(function(n){return n.disabled?"#DDDDDD":"#FFFFFF"}),(function(n){return n.disabled?"#BBBBBB":"#000000"})),nt=u.b.p(Oe||(Oe=Object(s.a)(["\n  width: 100%;\n  font-size: 14px;\n  line-height: 17px;\n  margin: 30px 0 0;\n\n  @media (max-width: 680px) {\n    margin: 20px 0 0;\n  }\n"]))),et=Object(u.b)(c.b)(we||(we=Object(s.a)(["\n  color: #ffffff;\n  text-decoration: none;\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n\n  @media (max-width: 680px) {\n    opacity: 0.6;\n  }\n"]))),tt=u.b.div(ve||(ve=Object(s.a)(["\n  width: 60px;\n  height: 60px;\n  margin: 20px auto -80px auto;\n"]))),it=u.b.img(ye||(ye=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n"]))),at=t.p+"static/media/button-\u0441lose.9f1fbe67.svg";var ot,rt,ct,st=function(n){var e=n.title,t=(n.name,n.buttonText),i=n.children,o=n.isOpen,r=n.disabledSubmit,c=n.onSubmit,s=n.onClose,d=n.onKeydown,l=a.a.useState(!1),h=Object(p.a)(l,2),u=h[0],x=h[1];return a.a.useEffect((function(){x(!1)}),[o]),a.a.useEffect((function(){if(o)return document.addEventListener("keydown",d),function(){return document.removeEventListener("keydown",d)}}),[o]),Object(_.jsx)(dt,{opened:o,onClick:s,children:Object(_.jsxs)(lt,{onClick:function(n){return n.stopPropagation()},children:[Object(_.jsx)(pt,{children:e}),Object(_.jsxs)(ht,{onSubmit:function(n){n.preventDefault(),c(),x(!0)},children:[i,Object(_.jsxs)(ut,{type:"submit","aria-label":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",disabled:r,children:[t,u?"...":""]})]}),Object(_.jsx)(xt,{type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043e\u043a\u043d\u043e",onClick:s,children:Object(_.jsx)(bt,{src:at,alt:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043e\u043a\u043d\u043e"})})]})})},dt=u.b.div(Te||(Te=Object(s.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  overflow: hidden;\n  visibility: ",";\n  opacity: ",";\n  background: rgba(0, 0, 0, 0.5);\n  transition: all 0.3s ease-in;\n  margin: 0;\n  z-index: ",";\n"])),(function(n){return n.opened?"visible":"hidden"}),(function(n){return n.opened?"1":"0"}),(function(n){return n.opened?"2":"-1"})),lt=u.b.div(Ue||(Ue=Object(s.a)(["\n  width: 430px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  border-radius: 10px;\n  background: #ffffff;\n\n  @media (max-width: 680px) {\n    width: 282px;\n  }\n"]))),pt=u.b.h2(Le||(Le=Object(s.a)(["\n  width: 358px;\n  font-size: 24px;\n  line-height: 29px;\n  font-weight: 900;\n  color: #000000;\n  margin: 34px 0 0 0;\n\n  @media (max-width: 680px) {\n    width: 238px;\n    font-size: 18px;\n    line-height: 22px;\n    margin: 25px 0 25px 0;\n  }\n"]))),ht=u.b.form(Be||(Be=Object(s.a)(["\n  margin: 10px 0;\n"]))),ut=u.b.button(Ne||(Ne=Object(s.a)(["\n  width: 358px;\n  height: 50px;\n  background: ",";\n  ",";\n  border: ",";\n  border-radius: 2px;\n  outline: none;\n  font-size: 18px;\n  line-height: 22px;\n  font-weight: 400;\n  color: ",";\n  cursor: ",";\n\n  transition: opacity 0.5s ease-out;\n  margin: 38px 0 34px 0;\n\n  @media (max-width: 680px) {\n    width: 238px;\n    height: 46px;\n    font-size: 14px;\n    line-height: 17px;\n    margin: 45px 0 25px 0;\n  }\n\n  :hover {\n    opacity: 0.8;\n  }\n"])),(function(n){return n.disabled?"#ffffff":"#000000"}),(function(n){return n.disabled&&"opacity: 0.8"}),(function(n){return n.disabled?"1px solid #000000;":"none"}),(function(n){return n.disabled?"#000000":"#ffffff"}),(function(n){return n.disabled?"default":"pointer"})),xt=u.b.button(Ke||(Ke=Object(s.a)(["\n  position: absolute;\n  top: -40px;\n  right: -40px;\n  background: transparent;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n  margin: 0;\n  padding: 0;\n\n  @media (max-width: 680px) {\n    right: 0;\n  }\n\n  :hover {\n    opacity: 0.6;\n  }\n"]))),bt=u.b.img(qe||(qe=Object(s.a)(["\n  width: 40px;\n  height: 40px;\n  transform: rotate(45deg);\n\n  @media (max-width: 680px) {\n    width: 26px;\n    height: 26px;\n  }\n"])));var ft,mt,gt,jt=function(n){var e=n.onUpdateUser,t=n.isOpen,i=n.onClose,o=n.onKeydown,r=a.a.useContext(an),c=Object(de.a)({initialValues:{fullName:r.name,profession:r.about},validationSchema:Fe.a({fullName:Fe.c().min(2,"\u0418\u043c\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043a\u043e\u0440\u043e\u0447\u0435 2 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(40,"\u0418\u043c\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 40 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0438\u043c\u044f"),profession:Fe.c().min(2,"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043a\u043e\u0440\u043e\u0447\u0435 2 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(200,"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 200 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044e")}),onSubmit:function(n){e({name:n.fullName,about:n.profession})}});return Object(_.jsx)(st,{name:"edit-profile",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onSubmit:c.handleSubmit,isOpen:t,onClose:i,onKeydown:o,disabledSubmit:!c.isValid,children:Object(_.jsxs)(Ot,{children:[Object(_.jsx)(wt,Object(l.a)(Object(l.a)({id:"name-input",error:!c.errors.fullName,type:"text"},c.getFieldProps("fullName")),{},{placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f"})),Object(_.jsx)(vt,{children:c.touched.fullName&&c.errors.fullName?c.errors.fullName:null}),Object(_.jsx)(wt,Object(l.a)(Object(l.a)({id:"about-you-input",error:!c.errors.profession,type:"text"},c.getFieldProps("profession")),{},{placeholder:"\u0412\u0430\u0448\u0430 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f"})),Object(_.jsx)(vt,{children:c.touched.profession&&c.errors.profession?c.errors.profession:null})]})})},Ot=u.b.fieldset(ot||(ot=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  border: 0;\n  line-height: 17px;\n  align-items: center;\n  font-size: 14px;\n  font-weight: 400;\n  color: #000000;\n  margin: 0;\n  padding: 0;\n"]))),wt=u.b.input(rt||(rt=Object(s.a)(["\n  width: 358px;\n  height: 27px;\n  background: transparent;\n  border: 0;\n  border-bottom: 1px solid ",";\n  outline: none;\n  margin: 30px 0 0 0;\n\n  @media (max-width: 680px) {\n    width: 238px;\n  }\n\n  ::placeholder {\n    color: #c4c4c4;\n  }\n"])),(function(n){return n.error?"#ff0000":"#dddddd"})),vt=u.b.span(ct||(ct=Object(s.a)(["\n  width: 358px;\n  height: 0;\n  overflow: visible;\n  font-size: 12px;\n  line-height: 15px;\n  font-weight: 400;\n  color: #ff0000;\n  margin: 0 auto -5px auto;\n  padding: 5px 0 0 0;\n\n  @media (max-width: 680px) {\n    width: 238px;\n  }\n"])));var yt,kt,Ct,At=function(n){var e=n.onUpdateAvatar,t=n.isOpen,i=n.onClose,o=n.onKeydown,r=Object(de.a)({initialValues:{avatar:""},validationSchema:Fe.a({avatar:Fe.c().url("\u0412\u0432\u0435\u0434\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435")}),onSubmit:function(n){e({avatar:n.avatar})}});return a.a.useEffect((function(){r.resetForm()}),[t]),Object(_.jsx)(st,{name:"edit-avatar",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onSubmit:r.handleSubmit,isOpen:t,onClose:i,onKeydown:o,disabledSubmit:!r.isValid,children:Object(_.jsxs)(St,{children:[Object(_.jsx)(zt,Object(l.a)(Object(l.a)({id:"url-avatar-input",error:!r.errors.avatar,type:"url"},r.getFieldProps("avatar")),{},{placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0430\u0432\u0430\u0442\u0430\u0440"})),Object(_.jsx)(_t,{children:r.touched.avatar&&r.errors.avatar?r.errors.avatar:null})]})})},St=u.b.fieldset(ft||(ft=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  border: 0;\n  line-height: 17px;\n  align-items: center;\n  font-size: 14px;\n  font-weight: 400;\n  color: #000000;\n  margin: 0;\n  padding: 0;\n"]))),zt=u.b.input(mt||(mt=Object(s.a)(["\n  width: 358px;\n  height: 27px;\n  background: transparent;\n  border: 0;\n  border-bottom: 1px solid ",";\n  outline: none;\n  margin: 30px 0 0 0;\n\n  @media (max-width: 680px) {\n    width: 238px;\n  }\n\n  ::placeholder {\n    color: #c4c4c4;\n  }\n"])),(function(n){return n.error?"#ff0000":"#dddddd"})),_t=u.b.span(gt||(gt=Object(s.a)(["\n  width: 358px;\n  height: 0;\n  overflow: visible;\n  font-size: 12px;\n  line-height: 15px;\n  font-weight: 400;\n  color: #ff0000;\n  margin: 0 auto -5px auto;\n  padding: 5px 0 0 0;\n\n  @media (max-width: 680px) {\n    width: 238px;\n  }\n"])));var Dt,Et,Pt,Ft,It,Rt,Tt=function(n){var e=n.onAddPlace,t=n.isOpen,i=n.onClose,o=n.onKeydown,r=Object(de.a)({initialValues:{title:"",pic:""},validationSchema:Fe.a({title:Fe.c().min(2,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043a\u043e\u0440\u043e\u0447\u0435 2 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(30,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),pic:Fe.c().url("\u0412\u0432\u0435\u0434\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435")}),onSubmit:function(n){e({title:n.title,pic:n.pic})}});return a.a.useEffect((function(){r.resetForm()}),[t]),Object(_.jsx)(st,{name:"add-card",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",buttonText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",onSubmit:r.handleSubmit,isOpen:t,onClose:i,onKeydown:o,disabledSubmit:!r.isValid,children:Object(_.jsxs)(Ut,{children:[Object(_.jsx)(Lt,Object(l.a)(Object(l.a)({id:"title-pic-input",error:!r.errors.title,type:"text"},r.getFieldProps("title")),{},{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0441\u0442\u0430"})),Object(_.jsx)(Bt,{children:r.touched.title&&r.errors.title?r.errors.title:null}),Object(_.jsx)(Lt,Object(l.a)(Object(l.a)({id:"url-pic-input",error:!r.errors.pic,type:"url"},r.getFieldProps("pic")),{},{placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"})),Object(_.jsx)(Bt,{children:r.touched.pic&&r.errors.pic?r.errors.pic:null})]})})},Ut=u.b.fieldset(yt||(yt=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  border: 0;\n  line-height: 17px;\n  align-items: center;\n  font-size: 14px;\n  font-weight: 400;\n  color: #000000;\n  margin: 0;\n  padding: 0;\n"]))),Lt=u.b.input(kt||(kt=Object(s.a)(["\n  width: 358px;\n  height: 27px;\n  background: transparent;\n  border: 0;\n  border-bottom: 1px solid ",";\n  outline: none;\n  margin: 30px 0 0 0;\n\n  @media (max-width: 680px) {\n    width: 238px;\n  }\n\n  ::placeholder {\n    color: #c4c4c4;\n  }\n"])),(function(n){return n.error?"#ff0000":"#dddddd"})),Bt=u.b.span(Ct||(Ct=Object(s.a)(["\n  width: 358px;\n  height: 0;\n  overflow: visible;\n  font-size: 12px;\n  line-height: 15px;\n  font-weight: 400;\n  color: #ff0000;\n  margin: 0 auto -5px auto;\n  padding: 5px 0 0 0;\n\n  @media (max-width: 680px) {\n    width: 238px;\n  }\n"])));var Nt=function(n){var e=n.card,t=n.isOpen,i=n.onClose,o=n.onKeydown;return a.a.useEffect((function(){if(t)return document.addEventListener("keydown",o),function(){return document.removeEventListener("keydown",o)}}),[t]),Object(_.jsx)(Kt,{opened:e,onClick:i,children:Object(_.jsxs)(qt,{onClick:function(n){return n.stopPropagation()},children:[Object(_.jsx)(Vt,{alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442",src:null===e||void 0===e?void 0:e.link}),Object(_.jsx)(Qt,{children:"".concat(null===e||void 0===e?void 0:e.name," || ").concat(null===e||void 0===e?void 0:e.owner.name," (").concat(null===e||void 0===e?void 0:e.owner.about,")")}),Object(_.jsx)(Xt,{type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",onClick:i,children:Object(_.jsx)(Jt,{src:at,alt:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"})})]})})},Kt=u.b.div(Dt||(Dt=Object(s.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  overflow: hidden;\n  visibility: ",";\n  opacity: ",";\n  background: rgba(0, 0, 0, 0.5);\n  transition: all 0.3s ease-in;\n  margin: 0;\n  z-index: ",";\n"])),(function(n){return n.opened?"visible":"hidden"}),(function(n){return n.opened?"1":"0"}),(function(n){return n.opened?"2":"-1"})),qt=u.b.div(Et||(Et=Object(s.a)(["\n  max-width: 75vw;\n  max-height: 75vh;\n  display: flex;\n  position: relative;\n"]))),Vt=u.b.img(Pt||(Pt=Object(s.a)(["\n  max-width: 100%;\n  max-height: 100%;\n  object-fit: cover;\n"]))),Qt=u.b.h2(Ft||(Ft=Object(s.a)(["\n  position: absolute;\n  left: 0;\n  bottom: -25px;\n  font-size: 12px;\n  line-height: 15px;\n  font-weight: 400;\n  color: #ffffff;\n  margin: 0;\n"]))),Xt=u.b.button(It||(It=Object(s.a)(["\n  position: absolute;\n  top: -40px;\n  right: -40px;\n  background: transparent;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n  margin: 0;\n  padding: 0;\n\n  @media (max-width: 680px) {\n    right: 0;\n  }\n\n  :hover {\n    opacity: 0.6;\n  }\n"]))),Jt=u.b.img(Rt||(Rt=Object(s.a)(["\n  width: 40px;\n  height: 40px;\n  transform: rotate(45deg);\n\n  @media (max-width: 680px) {\n    width: 26px;\n    height: 26px;\n  }\n"])));var Wt,Mt,Ht,Yt,Zt,Gt,$t=function(n){var e=n.card,t=n.onDelete,i=n.isOpen,a=n.onClose;return Object(_.jsx)(st,{name:"edit-profile",title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",buttonText:"\u0414\u0430",onSubmit:function(){t(e).then((function(){a()}))},isOpen:i,onClose:a})},ni=t.p+"static/media/icon-ok.a9eb6caf.svg",ei=t.p+"static/media/icon-err.d4ce2a26.svg";var ti,ii,ai,oi=function(n){var e=n.success,t=n.isOpen,i=n.onClose,o=n.onKeydown;return a.a.useEffect((function(){if(t)return document.addEventListener("keydown",o),function(){return document.removeEventListener("keydown",o)}}),[t]),Object(_.jsx)(ri,{opened:t,onClick:i,children:Object(_.jsxs)(ci,{onClick:function(n){return n.stopPropagation()},children:[Object(_.jsx)(si,{src:e?ni:ei,alt:e?"\u041e\u041a":"\u041e\u0448\u0438\u0431\u043a\u0430"}),Object(_.jsx)(di,{children:e?"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."}),Object(_.jsx)(li,{type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043e\u043a\u043d\u043e",onClick:i,children:Object(_.jsx)(pi,{src:at,alt:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043e\u043a\u043d\u043e"})})]})})},ri=u.b.div(Wt||(Wt=Object(s.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  overflow: hidden;\n  visibility: ",";\n  opacity: ",";\n  background: rgba(0, 0, 0, 0.5);\n  transition: all 0.3s ease-in;\n  margin: 0;\n  z-index: ",";\n"])),(function(n){return n.opened?"visible":"hidden"}),(function(n){return n.opened?"1":"0"}),(function(n){return n.opened?"2":"-1"})),ci=u.b.div(Mt||(Mt=Object(s.a)(["\n  width: 430px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  border-radius: 10px;\n  background: #ffffff;\n\n  @media (max-width: 680px) {\n    width: 282px;\n  }\n"]))),si=u.b.img(Ht||(Ht=Object(s.a)(["\n  width: 120px;\n  height: 120px;\n  margin: 60px auto 32px auto;\n"]))),di=u.b.p(Yt||(Yt=Object(s.a)(["\n  width: 83%;\n  height: 58px;\n  font-size: 24px;\n  line-height: 29px;\n  font-weight: 900;\n  color: #000000;\n  text-align: center;\n  margin: 0 auto 60px auto;\n\n  @media (max-width: 680px) {\n    width: 244px;\n    font-size: 20px;\n    line-height: 24px;\n    margin: 0 auto 50px auto;\n  }\n"]))),li=u.b.button(Zt||(Zt=Object(s.a)(["\n  position: absolute;\n  top: -40px;\n  right: -40px;\n  background: transparent;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  transition: opacity 0.5s ease-out;\n  margin: 0;\n  padding: 0;\n\n  @media (max-width: 680px) {\n    right: 0;\n  }\n\n  :hover {\n    opacity: 0.6;\n  }\n"]))),pi=u.b.img(Gt||(Gt=Object(s.a)(["\n  width: 40px;\n  height: 40px;\n  transform: rotate(45deg);\n\n  @media (max-width: 680px) {\n    width: 26px;\n    height: 26px;\n  }\n"]))),hi=(t(79),t(90));var ui=Object(h.withRouter)((function(n){var e=n.history,t=a.a.useState(!1),i=Object(p.a)(t,2),o=i[0],r=i[1],c=a.a.useState(!1),s=Object(p.a)(c,2),u=s[0],x=s[1],b=a.a.useState(!1),j=Object(p.a)(b,2),O=j[0],w=j[1],v=a.a.useState(!1),y=Object(p.a)(v,2),k=y[0],C=y[1],A=a.a.useState(!1),S=Object(p.a)(A,2),z=S[0],E=S[1],P=a.a.useState(),F=Object(p.a)(P,2),I=F[0],R=F[1],T=a.a.useState(),U=Object(p.a)(T,2),L=U[0],B=U[1],N=a.a.useState({}),K=Object(p.a)(N,2),q=K[0],V=K[1],Q=a.a.useState([]),X=Object(p.a)(Q,2),W=X[0],M=X[1],H=a.a.useState(!1),Y=Object(p.a)(H,2),Z=Y[0],G=Y[1],$=a.a.useState(""),nn=Object(p.a)($,2),en=nn[0],tn=nn[1],on=a.a.useState(!1),rn=Object(p.a)(on,2),cn=rn[0],sn=rn[1],dn=a.a.useState(!1),ln=Object(p.a)(dn,2),pn=ln[0],hn=ln[1],un=Object(hi.useLocation)().pathname;function xn(n){C(!0),E(n)}function bn(){r(!1),x(!1),w(!1),C(!1),R(void 0),B(void 0)}function fn(n){"Escape"===n.key&&bn()}function mn(n){(function(n){return fetch("".concat(m,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then(g)})(n).then((function(n){n&&(tn(n.data.email),G(!0),e.push("/content"))})).catch((function(n){console.log(n)}))}return a.a.useEffect((function(){Promise.all([f.getProfileData(),f.getInitialCards()]).then((function(n){var e=Object(p.a)(n,2),t=e[0],i=e[1];V(t),M(i)})).catch((function(n){console.log(n)}))}),[]),a.a.useEffect((function(){var n=localStorage.getItem("token");n&&mn(n)}),[]),Object(_.jsx)(an.Provider,{value:q,children:Object(_.jsxs)(xi,{children:[Object(_.jsxs)(bi,{children:[Object(_.jsx)(J,{pageType:un,userData:en,handleLogout:function(){localStorage.removeItem("token"),G(!1)},loggedIn:Z}),Object(_.jsx)(fi,{children:Object(_.jsxs)(h.Switch,{children:[Object(_.jsx)(D,{path:"/content",loggedIn:Z,children:Object(_.jsx)(Ln,{cards:W,currentUser:q,onCardLike:function(n){var e=n.likes.some((function(n){return n._id===q._id}));M((function(e){return e.map((function(e){return e._id===n._id?Object(l.a)(Object(l.a)({},e),{},{likeClicked:!0}):e}))})),(e?f.unlikeCard(n._id):f.likeCard(n._id)).then((function(n){M((function(e){return e.map((function(e){return e._id===n._id?n:e}))}))})).catch((function(n){console.log(n)}))},onCardDelete:function(n){B(n)},onEditAvatar:function(){r(!0)},onEditProfile:function(){x(!0)},onAddCard:function(){w(!0)},onCardClick:function(n){R(n)}})}),Object(_.jsx)(h.Route,{path:"/sign-in",children:Object(_.jsx)(ke,{isLogined:cn,authorization:function(n){sn(!0),function(n){var e=n.email,t=n.password;return fetch("".concat(m,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(g).then((function(n){return n.token?n.token:void 0}))}(n).then((function(n){n&&(localStorage.setItem("token",n),function(n){mn(n)}(n),sn(!1),e.push("/content"))})).catch((function(){xn(!1),sn(!1)}))}})}),Object(_.jsx)(h.Route,{path:"/sign-up",children:Object(_.jsx)(Ve,{isRegistered:pn,registration:function(n){hn(!0),n.password===n.confirmPassword&&function(n){var e=n.email,t=n.password;return fetch("".concat(m,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(g)}({email:n.email,password:n.password}).then((function(){xn(!0),hn(!1),e.push("/sign-in")})).catch((function(){xn(!1),hn(!1)}))}})}),Object(_.jsx)(h.Route,{exact:!0,path:"/",children:Z?Object(_.jsx)(h.Redirect,{to:"/content"}):Object(_.jsx)(h.Redirect,{to:"/sign-in"})})]})}),Object(_.jsx)(re,{})]}),q.name&&Object(_.jsx)(jt,{onUpdateUser:function(n){f.setProfileData(n.name,n.about).then((function(n){V(n),bn()})).catch((function(n){console.log(n)}))},isOpen:u,onClose:bn,onKeydown:fn}),Object(_.jsx)(At,{onUpdateAvatar:function(n){var e=n.avatar;f.setAvatar(e).then((function(n){V(n),bn()})).catch((function(n){console.log(n)}))},isOpen:o,onClose:bn,onKeydown:fn}),Object(_.jsx)(Tt,{onAddPlace:function(n){f.createCard(n.title,n.pic).then((function(n){M([n].concat(Object(d.a)(W))),bn()})).catch((function(n){console.log(n)}))},isOpen:O,onClose:bn,onKeydown:fn}),Object(_.jsx)(Nt,{card:I,isOpen:I,onClose:bn,onKeydown:fn}),Object(_.jsx)($t,{card:L,onDelete:function(n){return M((function(e){return e.map((function(e){return e._id===n._id?Object(l.a)(Object(l.a)({},e),{},{deleteClicked:!0}):e}))})),f.removeCard(n._id).then((function(){var e=W.filter((function(e){return e._id!==n._id}));M(e)})).catch((function(n){console.log(n)}))},isOpen:void 0!==L,onClose:bn}),Object(_.jsx)(oi,{success:z,isOpen:k,onClose:bn,onKeydown:fn})]})})})),xi=u.b.div(ti||(ti=Object(s.a)(['\n  min-height: 100vh;\n  max-width: 1280px;\n  min-width: 320px;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: #000000;\n  font-family: "Inter", Tahoma, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #ffffff;\n  margin: 0 auto;\n']))),bi=u.b.div(ii||(ii=Object(s.a)(["\n  width: 880px;\n  margin: 0 200px;\n  padding: 0;\n\n  @media (max-width: 980px) {\n    width: 581px;\n    margin: 0 auto;\n  }\n\n  @media (max-width: 680px) {\n    width: 320px;\n  }\n"]))),fi=u.b.main(ai||(ai=Object(s.a)(["\n  width: 100%;\n"]))),mi=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,200)).then((function(e){var t=e.getCLS,i=e.getFID,a=e.getFCP,o=e.getLCP,r=e.getTTFB;t(n),i(n),a(n),o(n),r(n)}))};r.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(c.a,{basename:"/mesto-react-auth",children:Object(_.jsx)(ui,{})})}),document.getElementById("root")),mi()},79:function(n,e,t){}},[[199,1,2]]]);
//# sourceMappingURL=main.c0f054b9.chunk.js.map