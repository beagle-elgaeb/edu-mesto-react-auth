{"version":3,"sources":["utils/Api.js","utils/ProtectedRoute.js","utils/Auth.js","images/logo.svg","images/button-profile.svg","images/button-сlose-profile.svg","components/Header.js","contexts/CurrentUserContext.js","images/button-delete.svg","components/Card.js","images/loader.gif","images/button-edit.svg","images/button-add.svg","components/Main.js","components/Footer.js","components/Login.js","images/icon-eye-open.svg","images/icon-eye-close.svg","components/Register.js","images/button-сlose.svg","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","images/icon-ok.svg","images/icon-err.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","options","this","_baseUrl","baseUrl","_groupID","groupID","_headers","headers","fetch","authorization","then","_handleResult","avatar","method","body","JSON","stringify","name","about","link","id","res","ok","json","Promise","reject","status","ProtectedRoute","path","children","loggedIn","to","BASE_URL","withRouter","headerLinkName","headerLink","pageType","userData","handleLogout","React","useState","headerMobile","setHeaderMobile","openedProfileData","setOpenedProfileData","headerUserEmail","signOut","onСhangedScreenWidth","e","target","innerWidth","useEffect","window","addEventListener","document","removeEventListener","className","onClick","href","src","logo","alt","state","buttonCloseProfileData","butonProfileData","CurrentUserContext","createContext","Card","card","onLikeClick","onDeleteClick","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","deleteClicked","likeClicked","type","buttonDeleteCard","length","Main","cards","onEditProfile","onEditAvatar","onAddCard","onCardClick","onCardLike","onCardDelete","loader","buttonEditImg","buttonAddCard","map","item","Footer","handleLogin","showResult","history","isLogined","setIsLogined","formik","useFormik","initialValues","email","password","onSubmit","values","Error","data","token","auth","localStorage","setItem","push","catch","handleSubmit","getFieldProps","placeholder","required","isRegistered","setIsRegistered","visiblePass","setVisibilityPass","visibleConfirmPass","setVisibilityConfirmPass","confirmPassword","validationSchema","Yup","min","matches","oneOf","touched","errors","eyeOpen","eyeClose","isValid","disabled","PopupWithForm","title","buttonText","isOpen","disabledSubmit","onClose","onKeydown","isSubmit","setIsSubmit","stopPropagation","preventDefault","buttonClosePopup","EditProfilePopup","onUpdateUser","fullName","profession","max","EditAvatarPopup","onUpdateAvatar","url","resetForm","AddPlacePopup","onAddPlace","pic","ImagePopup","InfoTooltip","success","imageOk","imageErr","editAvatarPopupOpen","setEditAvatarPopupOpen","editProfilePopupOpen","setEditProfilePopupOpen","addCardPopupOpen","setAddCardPopupOpen","infoTooltipPopupOpen","setInfoTooltipPopupOpen","infoTooltipSuccess","setInfoTooltipSuccess","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setUserData","pathname","useLocation","closeAllPopups","undefined","key","loadProfile","err","console","log","all","getProfileData","getInitialCards","profile","getItem","Provider","value","removeItem","c","unlikeCard","likeCard","removeCard","newCards","filter","exact","setProfileData","result","setAvatar","createCard","newCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","process","getElementById"],"mappings":"2NAoGeA,EAVH,I,WAzFV,WAAYC,GAAU,oBACpBC,KAAKC,SAAWF,EAAQG,QACxBF,KAAKG,SAAWJ,EAAQK,QACxBJ,KAAKK,SAAWN,EAAQO,Q,mDAG1B,WACE,OAAOC,MAAM,GAAD,OAAIP,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,UAA4C,CACtDG,QAAS,CACPE,cAAeR,KAAKK,SAASG,iBAG9BC,KAAKT,KAAKU,iB,4BAGf,WACE,OAAOH,MAAM,GAAD,OAAIP,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,aAA+C,CACzDG,QAAS,CACPE,cAAeR,KAAKK,SAASG,iBAG9BC,KAAKT,KAAKU,iB,uBAGf,SAAUC,GACR,OAAOJ,MAAM,GAAD,OAAIP,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,oBAAsD,CAChES,OAAQ,QACRN,QAASN,KAAKK,SACdQ,KAAMC,KAAKC,UAAU,CACnBJ,OAAQA,MAGTF,KAAKT,KAAKU,iB,4BAGf,SAAeM,EAAMC,GACnB,OAAOV,MAAM,GAAD,OAAIP,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,aAA+C,CACzDS,OAAQ,QACRN,QAASN,KAAKK,SACdQ,KAAMC,KAAKC,UAAU,CACnBC,OACAC,YAGDR,KAAKT,KAAKU,iB,wBAGf,SAAWM,EAAME,GACf,OAAOX,MAAM,GAAD,OAAIP,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,UAA4C,CACtDS,OAAQ,OACRN,QAASN,KAAKK,SACdQ,KAAMC,KAAKC,UAAU,CACnBC,OACAE,WAGDT,KAAKT,KAAKU,iB,wBAGf,SAAWS,GACT,OAAOZ,MAAM,GAAD,OAAIP,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,kBAA4CgB,GAAM,CAC5DP,OAAQ,SACRN,QAASN,KAAKK,WAEbI,KAAKT,KAAKU,iB,sBAGf,SAASS,GACP,OAAOZ,MAAM,GAAD,OAAIP,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,wBAAkDgB,GAAM,CAClEP,OAAQ,MACRN,QAASN,KAAKK,WAEbI,KAAKT,KAAKU,iB,wBAGf,SAAWS,GACT,OAAOZ,MAAM,GAAD,OAAIP,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,wBAAkDgB,GAAM,CAClEP,OAAQ,SACRN,QAASN,KAAKK,WAEbI,KAAKT,KAAKU,iB,2BAGf,SAAcU,GACZ,OAAIA,EAAIC,GAAaD,EAAIE,OAClBC,QAAQC,OAAR,qFAAiCJ,EAAIK,a,KAIpC,CACV,CACEvB,QAAS,oCACTE,QAAS,YACTE,QAAS,CACPE,cAAe,uCACf,eAAgB,sB,OC5EPkB,EAhBQ,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,KAAMC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SACxC,OACE,cAAC,QAAD,CAAOF,KAAMA,EAAb,SACG,kBACCE,EAAWD,EAAW,cAAC,WAAD,CAAUE,GAAG,kBCR9BC,EAAW,gCCAT,MAA0B,iCCA1B,MAA0B,2CCA1B,MAA0B,sDCmG1BC,4BA3Ff,YAAiE,IAK3DC,EACAC,EANYL,EAA8C,EAA9CA,SAAUM,EAAoC,EAApCA,SAAUC,EAA0B,EAA1BA,SAAUC,EAAgB,EAAhBA,aAC9C,EAAwCC,IAAMC,UAAS,GAAvD,mBAAOC,EAAP,KAAqBC,EAArB,KACA,EAAkDH,IAAMC,UAAS,GAAjE,mBAAOG,EAAP,KAA0BC,EAA1B,KAEIC,EAAkB,GA8BtB,SAASC,IACU,aAAbV,IACFE,IACAM,GAAqB,IAIzB,SAASG,EAAqBC,GACxBA,EAAEC,OAAOC,YAAc,IACzBR,GAAgB,GACPM,EAAEC,OAAOC,WAAa,KAC/BR,GAAgB,GAQpB,OA7CAH,IAAMY,WAAU,WAEd,OADAC,OAAOC,iBAAiB,SAAUN,GAC3B,kBAAMO,SAASC,oBAAoB,SAAUR,OAGrC,aAAbX,GACFF,EAAiB,qEACjBC,EAAa,YACS,aAAbC,GACTF,EAAiB,iCACjBC,EAAa,YACS,aAAbC,GACTS,EAAkBR,EAClBH,EAAiB,iCACjBC,EAAa,YACS,MAAbC,IACLN,GACFe,EAAkBR,EAClBH,EAAiB,iCACjBC,EAAa,aAEbD,EAAiB,qEACjBC,EAAa,aAwBf,qCAEIM,GAAgBX,GAEhB,sBAAK0B,UAAS,+BAA2Bb,EAAsD,GAAlC,iCAA7D,UACE,mBAAGa,UAAU,4BAAb,SAA0CX,IAC1C,cAAC,IAAD,CAAMW,UAAU,4BAA4BzB,GAAII,EAAYsB,QAASX,EAArE,SAA+EZ,OAGnF,yBAAQsB,UAAU,SAAlB,UACE,mBAAGA,UAAU,OAAOE,KAAK,IAAzB,SACE,qBAAKF,UAAU,cAAcG,IAAKC,EAAMC,IAAI,kGAG7C/B,GAAYW,EAEP,wBAAQe,UAAU,6BAA6BC,QArB3D,WACEb,GAAqB,SAAAkB,GAAK,OAAKA,MAoBrB,SACE,qBAAKN,UAAU,iCAAiCG,IAAMhB,EAAuCoB,EAAnBC,EAA2CH,IAAI,+MAG7H,oBAAGL,UAAU,eAAb,UAA6BX,EAC3B,cAAC,IAAD,CAAMW,UAAU,eAAezB,GAAII,EAAYsB,QAASX,EAAxD,SAAkEZ,gBCjFnE+B,EAAqB1B,IAAM2B,gBCFzB,MAA0B,0CC+C1BC,MAxCf,YAA8D,IAA9CC,EAA6C,EAA7CA,KAAMX,EAAuC,EAAvCA,QAASY,EAA8B,EAA9BA,YAAaC,EAAiB,EAAjBA,cACpCC,EAAchC,IAAMiC,WAAWP,GAC/BQ,EAAQL,EAAKM,MAAMC,MAAQJ,EAAYI,IACvCC,EAAUR,EAAKS,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEJ,MAAQJ,EAAYI,OAEvDK,EAAyB,UAAMP,EAAQ,sBAAwB,oDAC/DQ,EAAuB,UAAML,EAAU,qDAAuD,yBAUlG,OARIR,EAAKc,gBACPF,GAA6B,6BAG3BZ,EAAKe,cACPF,GAA2B,+BAI3B,qBAAIzB,UAAU,sCAAd,UACE,wBAAQA,UAAWwB,EAA2BI,KAAK,SAAS,aAAW,6CAAU3B,QAAS,kBAAMa,EAAcF,IAA9G,SACE,qBAAKZ,UAAU,0BAA0BG,IAAK0B,EAAkBxB,IAAI,kGAEtE,qBAAKL,UAAU,cAAcG,IAAKS,EAAKjD,KAAM0C,IAAKO,EAAKnD,KAAMwC,QAAS,kBAAMA,EAAQW,MACpF,sBAAKZ,UAAU,uBAAf,UACE,oBAAIA,UAAU,cAAd,SAA6BY,EAAKnD,OAClC,yBAAQuC,UAAU,oBAAoB4B,KAAK,SAAS,aAAW,mDAAW3B,QAAS,kBAAMY,EAAYD,IAArG,UACE,qBAAKZ,UAAWyB,IAChB,mBAAGzB,UAAU,0BAAb,SAAwCY,EAAKS,MAAMS,mBCjC9C,MAA0B,mCCA1B,MAA0B,wCCA1B,MAA0B,uCCyD1BC,MAhDf,YAAsH,IAAD,EAArGC,EAAqG,EAArGA,MAAOjB,EAA8F,EAA9FA,YAAakB,EAAiF,EAAjFA,cAAeC,EAAkE,EAAlEA,aAAcC,EAAoD,EAApDA,UAAWC,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,aACnG,OACE,qCACE,0BAAStC,UAAU,UAAnB,UACE,wBAAQA,UAAU,kEAAkEC,QAASiC,EAA7F,SACE,qBAAKlC,UAAU,kBAAkBG,IAAG,UAAEY,EAAY3D,cAAd,QAAwBmF,EAAQlC,IAAI,0EAE1E,sBAAKL,UAAU,gBAAf,UACE,sBAAKA,UAAU,0CAAf,UACE,oBAAIpC,GAAG,WAAWoC,UAAU,0BAA5B,SAAuDe,EAAYtD,OACnE,wBAAQuC,UAAU,uBAAuB4B,KAAK,SAAS,aAAW,mDAAW3B,QAASgC,EAAtF,SACE,qBAAKjC,UAAU,2BAA2BG,IAAKqC,EAAenC,IAAI,8KAGtE,mBAAGzC,GAAG,aAAaoC,UAAU,2BAA7B,SAAyDe,EAAYrD,WAEvE,wBAAQsC,UAAU,2BAA2B4B,KAAK,SAAS,aAAW,4EAAgB3B,QAASkC,EAA/F,SACE,qBAAKnC,UAAU,+BAA+BG,IAAKsC,EAAepC,IAAI,0IAG1E,yBAASL,UAAU,gBAAnB,SACE,oBAAIA,UAAU,4BAAd,SACGgC,EAAMU,KAAI,SAACC,GAAD,OACT,cAAC,EAAD,CAEE/B,KAAM+B,EACN1C,QAASmC,EACTvB,YAAawB,EACbvB,cAAewB,GAJVK,EAAKxB,gBCzBTyB,MARf,WACE,OACE,wBAAQ5C,UAAU,SAAlB,SACE,mBAAGA,UAAU,oBAAb,uC,QCmFSvB,4BA7Ef,YAAsD,IAArCoE,EAAoC,EAApCA,YAAaC,EAAuB,EAAvBA,WAAYC,EAAW,EAAXA,QACxC,EAAkChE,IAAMC,UAAS,GAAjD,mBAAOgE,EAAP,KAAkBC,EAAlB,KAEMC,EAASC,YAAU,CACvBC,cAAe,CACbC,MAAO,GACPC,SAAU,IAEZC,SAAU,SAACC,GACTP,GAAa,GbCM,SAAC,GAAyB,IAAvBI,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SACjC,OAAOtG,MAAM,GAAD,OAAIwB,EAAJ,WAAuB,CACjCnB,OAAQ,OACRN,QAAS,CACP,eAAgB,oBAElBO,KAAMC,KAAKC,UAAU,CAAE6F,QAAOC,eAE7BpG,MAAK,SAAAW,GACJ,GAAIA,EAAIC,GACN,OAAOD,EAAIE,OAEX,MAAM,IAAI0F,MAAM,8GAGnBvG,MAAK,SAACwG,GACL,OAAIA,EAAKC,MACAD,EAAKC,WAEZ,KanBFC,CACa,CACTP,MAAOG,EAAOH,MACdC,SAAUE,EAAOF,WAElBpG,MAAK,SAACyG,GACDA,IACFE,aAAaC,QAAQ,QAASH,GAC9Bd,EAAYc,GACZV,GAAa,GACbF,EAAQgB,KAAK,gBAGhBC,OAAM,WACLlB,GAAW,GACXG,GAAa,SAKrB,OACE,0BAASjD,UAAU,QAAnB,UACE,oBAAIA,UAAU,eAAd,sCACA,uBAAMA,UAAU,cAAcvC,KAAK,QAAQ8F,SAAUL,EAAOe,aAA5D,UACE,2BAAUjE,UAAU,kBAApB,UACE,+CACEpC,GAAG,oBACHoC,UAAU,eACV4B,KAAK,SACDsB,EAAOgB,cAAc,UAJ3B,IAKEC,YAAY,QACZC,UAAQ,KAEV,+CACExG,GAAG,mBACHoC,UAAU,eACV4B,KAAK,YACDsB,EAAOgB,cAAc,aAJ3B,IAKEC,YAAY,uCACZC,UAAQ,QAIXpB,GACC,qBAAKhD,UAAU,iBAAf,SACE,qBACEA,UAAU,qBACVG,IAAKoC,EACLlC,IAAI,+BAKV,wBAAQL,UAAU,gBAAgB4B,KAAK,SAAS,aAAW,iCAA3D,qD,OCxEO,MAA0B,0CCA1B,MAA0B,2CC8K1BnD,4BAlKf,YAA4C,IAAxBsE,EAAuB,EAAvBA,QAASD,EAAc,EAAdA,WAC7B,EAAwC/D,IAAMC,UAAS,GAAvD,mBAAOqF,EAAP,KAAqBC,EAArB,KACA,EAAyCvF,IAAMC,UAAS,GAAxD,mBAAOuF,EAAP,KAAoBC,EAApB,KACA,EAAuDzF,IAAMC,UAAS,GAAtE,mBAAOyF,EAAP,KAA2BC,EAA3B,KAEQxB,EAASC,YAAU,CACvBC,cAAe,CACbC,MAAO,GACPC,SAAU,GACVqB,gBAAiB,IAEnBC,iBAAkBC,IAAW,CAC3BxB,MAAOwB,MACJxB,MAAM,gLACNe,SAAS,mHACZd,SAAUuB,MACPC,IAAI,EAAG,2MACPC,QACC,eACA,qQAEDA,QACC,eACA,yUAEDA,QACC,eACA,mUAEDA,QAAQ,eAAgB,iOACxBX,SAAS,kJACZO,gBAAiBE,MACdG,MAAM,CAACH,IAAQ,YAAa,MAAO,4GACnCT,SAAS,oMAEdb,SAAU,SAACC,GACTc,GAAgB,GACZd,EAAOF,WAAaE,EAAOmB,iBhB/Cb,SAAC,GAAyB,IAAvBtB,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SAChC,OAAOtG,MAAM,GAAD,OAAIwB,EAAJ,WAAuB,CACjCnB,OAAQ,OACRN,QAAS,CACP,eAAgB,oBAElBO,KAAMC,KAAKC,UAAU,CAAE6F,QAAOC,eAE7BpG,MAAK,SAAAW,GACJ,GAAIA,EAAIC,GACN,OAAOD,EAAIE,OAEX,MAAM,IAAI0F,MAAM,8GgBoChBG,CACY,CACRP,MAAOG,EAAOH,MACdC,SAAUE,EAAOF,WAElBpG,MAAK,WACJ4F,GAAW,GACXwB,GAAgB,GAChBvB,EAAQgB,KAAK,eAEdC,OAAM,WACLlB,GAAW,GACXwB,GAAgB,SAc1B,OACE,0BAAStE,UAAU,WAAnB,UACE,oBAAIA,UAAU,kBAAd,gFACA,uBACEA,UAAU,iBACVvC,KAAK,WACL8F,SAAUL,EAAOe,aAHnB,UAKE,2BAAUjE,UAAU,kBAApB,UACE,+CACEpC,GAAG,uBACHoC,UAAU,kBACV4B,KAAK,SACDsB,EAAOgB,cAAc,UAJ3B,IAKEC,YAAY,WAEd,sBAAMnE,UAAU,kBAAhB,SACGkD,EAAO+B,QAAQ5B,OAASH,EAAOgC,OAAO7B,MACnCH,EAAOgC,OAAO7B,MACd,OAEN,sBAAKrD,UAAU,uBAAf,UACE,+CACEpC,GAAG,sBACHoC,UAAU,kBACV4B,KAAO2C,EAA2B,OAAb,YACjBrB,EAAOgB,cAAc,aAJ3B,IAKEC,YAAY,0CAEd,wBAAQnE,UAAU,gBAAgBC,QArC5C,WACEuE,GAAkB,SAAClE,GAAD,OAAYA,MAoCtB,SACE,qBACEN,UAAU,oBACVG,IAAMoE,EAAyBY,EAAXC,EACpB/E,IAAMkE,EAA+B,kFAAjB,6EAI1B,sBAAMvE,UAAU,kBAAhB,SACGkD,EAAO+B,QAAQ3B,UAAYJ,EAAOgC,OAAO5B,SACtCJ,EAAOgC,OAAO5B,SACd,OAEN,sBAAKtD,UAAU,uBAAf,UACE,+CACEpC,GAAG,8BACHoC,UAAU,kBACV4B,KAAO6C,EAAkC,OAAb,YACxBvB,EAAOgB,cAAc,oBAJ3B,IAKEC,YAAY,iGAEd,wBAAQnE,UAAU,gBAAgBC,QAtD5C,WACEyE,GAAyB,SAACpE,GAAD,OAAYA,MAqD7B,SACE,qBACEN,UAAU,oBACVG,IAAMsE,EAAgCU,EAAXC,EAC3B/E,IAAMoE,EAAsC,kFAAjB,6EAIjC,sBAAMzE,UAAU,kBAAhB,SACGkD,EAAO+B,QAAQN,iBAAmBzB,EAAOgC,OAAOP,gBAC7CzB,EAAOgC,OAAOP,gBACd,UAIPN,GAED,qBAAKrE,UAAU,oBAAf,SACE,qBAAKA,UAAU,wBAAwBG,IAAKoC,EAAQlC,IAAI,yEAI1D,wBACEL,UAAS,2BACNkD,EAAOmC,QAAwC,GAA9B,6BAEpBzD,KAAK,SACL,aAAW,+GACX0D,UAAWpC,EAAOmC,QANpB,6HAWF,oBAAGrF,UAAU,qBAAb,iIACwB,IACtB,cAAC,IAAD,CAAMA,UAAU,iBAAiBzB,GAAG,WAApC,qDCjKO,MAA0B,8CC2D1BgH,MAtDf,YAAqH,IAA5FC,EAA2F,EAA3FA,MAAO/H,EAAoF,EAApFA,KAAMgI,EAA8E,EAA9EA,WAAYpH,EAAkE,EAAlEA,SAAUqH,EAAwD,EAAxDA,OAAQC,EAAgD,EAAhDA,eAAgBpC,EAAgC,EAAhCA,SAAUqC,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,UACrG,EAAgC9G,IAAMC,UAAS,GAA/C,mBAAO8G,EAAP,KAAiBC,EAAjB,KAuBA,OArBAhH,IAAMY,WAAU,WACdoG,GAAY,KACX,CAACL,IAEJ3G,IAAMY,WAAU,WACd,GAAK+F,EAKL,OADA5F,SAASD,iBAAiB,UAAWgG,GAC9B,kBAAM/F,SAASC,oBAAoB,UAAW8F,MAEpD,CAACH,IAUF,qBAAK1F,UAAS,2BAAsBvC,EAAtB,YAA8BiI,EAAS,eAAiB,GAAxD,KAA+DzF,QAAS2F,EAAtF,SACE,sBAAK5F,UAAU,mBAAmBC,QAAS,SAACT,GAAD,OAAOA,EAAEwG,mBAApD,UACE,oBAAIhG,UAAU,eAAd,SAA8BwF,IAC9B,uBAAMxF,UAAS,uCAAkCvC,EAAlC,KAA2CA,KAAI,iBAAYA,GAAQ8F,SAXxF,SAAsB/D,GACpBA,EAAEyG,iBAEF1C,IACAwC,GAAY,IAOR,UACG1H,EACD,yBAAQ2B,UAAS,6BAAwB2F,EAAiB,8BAAgC,IAAM/D,KAAK,SAAS,aAAW,yDAAY0D,SAAUK,EAA/I,UACGF,EAAYK,EAAW,MAAQ,SAGpC,wBAAQ9F,UAAU,sBAAsB4B,KAAK,SAAS,aAAW,sEAAe3B,QAAS2F,EAAzF,SACE,qBAAK5F,UAAU,0BAA0BG,IAAK+F,EAAkB7F,IAAI,gFC0C/D8F,MAzEf,YAAyE,IAA7CC,EAA4C,EAA5CA,aAAcV,EAA8B,EAA9BA,OAAQE,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,UACnD9E,EAAchC,IAAMiC,WAAWP,GAE/ByC,EAASC,YAAU,CACvBC,cAAe,CACbiD,SAAUtF,EAAYtD,KACtB6I,WAAYvF,EAAYrD,OAE1BkH,iBAAkBC,IAAW,CAC3BwB,SAAUxB,MACPC,IAAI,EAAG,yLACPyB,IAAI,GAAI,mLACRnC,SAAS,gIACZkC,WAAYzB,MACTC,IAAI,EAAG,6NACPyB,IAAI,IAAK,wNACTnC,SAAS,sKAEdb,SAAU,SAACC,GACT4C,EAAa,CACX3I,KAAM+F,EAAO6C,SACb3I,MAAO8F,EAAO8C,gBAKpB,OACE,cAAC,EAAD,CACE7I,KAAK,eACL+H,MAAM,4HACNC,WAAW,yDACXlC,SAAUL,EAAOe,aACjByB,OAAQA,EACRE,QAASA,EACTC,UAAWA,EACXF,gBAAiBzC,EAAOmC,QAR1B,SAUE,2BAAUrF,UAAU,kBAApB,UAEE,+CACEpC,GAAG,aACHoC,UAAU,2CACV4B,KAAK,QACDsB,EAAOgB,cAAc,aAJ3B,IAKEC,YAAY,iDAEd,sBAAMnE,UAAU,eAAhB,SACGkD,EAAO+B,QAAQoB,UAAYnD,EAAOgC,OAAOmB,SAAWnD,EAAOgC,OAAOmB,SAAW,OAGhF,+CACEzI,GAAG,kBACHoC,UAAU,4CACV4B,KAAK,QACDsB,EAAOgB,cAAc,eAJ3B,IAKEC,YAAY,qFAEd,sBAAMnE,UAAU,eAAhB,SACGkD,EAAO+B,QAAQqB,YAAcpD,EAAOgC,OAAOoB,WAAapD,EAAOgC,OAAOoB,WAAa,aCJ/EE,MAxDf,YAA0E,IAA/CC,EAA8C,EAA9CA,eAAgBf,EAA8B,EAA9BA,OAAQE,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,UACpD3C,EAASC,YAAU,CACvBC,cAAe,CACbhG,OAAQ,IAEVwH,iBAAkBC,IAAW,CAC3BzH,OAAQyH,MACL6B,IAAI,+MACJtC,SAAS,oOAEdb,SAAU,SAACC,GACTiD,EAAe,CACbrJ,OAAQoG,EAAOpG,YAUrB,OALA2B,IAAMY,WAAU,WACduD,EAAOyD,cAEN,CAACjB,IAGF,cAAC,EAAD,CACEjI,KAAK,cACL+H,MAAM,wFACNC,WAAW,yDACXlC,SAAUL,EAAOe,aACjByB,OAAQA,EACRE,QAASA,EACTC,UAAWA,EACXF,gBAAiBzC,EAAOmC,QAR1B,SAUE,2BAAUrF,UAAU,kBAApB,UACE,+CACEpC,GAAG,mBACHoC,UAAU,eACV4B,KAAK,OACDsB,EAAOgB,cAAc,WAJ3B,IAKEC,YAAY,4FAEd,sBAAMnE,UAAU,eAAhB,SACGkD,EAAO+B,QAAQ7H,QAAU8F,EAAOgC,OAAO9H,OAAS8F,EAAOgC,OAAO9H,OAAS,aC+BnEwJ,MAzEf,YAAoE,IAA3CC,EAA0C,EAA1CA,WAAYnB,EAA8B,EAA9BA,OAAQE,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,UAC9C3C,EAASC,YAAU,CACvBC,cAAe,CACboC,MAAO,GACPsB,IAAK,IAEPlC,iBAAkBC,IAAW,CAC3BW,MAAOX,MACJC,IAAI,EAAG,uNACPyB,IAAI,GAAI,iNACRnC,SAAS,8JACZ0C,IAAKjC,MACF6B,IAAI,+MACJtC,SAAS,oOAEdb,SAAU,SAACC,GACTqD,EAAW,CACTrB,MAAOhC,EAAOgC,MACdsB,IAAKtD,EAAOsD,SAUlB,OALA/H,IAAMY,WAAU,WACduD,EAAOyD,cAEN,CAACjB,IAGF,cAAC,EAAD,CACEjI,KAAK,WACL+H,MAAM,gEACNC,WAAW,6CACXlC,SAAUL,EAAOe,aACjByB,OAAQA,EACRE,QAASA,EACTC,UAAWA,EACXF,gBAAiBzC,EAAOmC,QAR1B,SAUE,2BAAUrF,UAAU,kBAApB,UACE,+CACEpC,GAAG,kBACHoC,UAAU,eACV4B,KAAK,QACDsB,EAAOgB,cAAc,UAJ3B,IAKEC,YAAY,qFAEd,sBAAMnE,UAAU,eAAhB,SACGkD,EAAO+B,QAAQO,OAAStC,EAAOgC,OAAOM,MAAQtC,EAAOgC,OAAOM,MAAQ,OAGvE,+CACE5H,GAAG,gBACHoC,UAAU,oCACV4B,KAAK,OACDsB,EAAOgB,cAAc,QAJ3B,IAKEC,YAAY,wGAEd,sBAAMnE,UAAU,eAAhB,SACGkD,EAAO+B,QAAQ6B,KAAO5D,EAAOgC,OAAO4B,IAAM5D,EAAOgC,OAAO4B,IAAM,aC7B1DC,MAhCf,YAA2D,IAArCnG,EAAoC,EAApCA,KAAM8E,EAA8B,EAA9BA,OAAQE,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,UAY3C,OAVA9G,IAAMY,WAAU,WACd,GAAK+F,EAKL,OADA5F,SAASD,iBAAiB,UAAWgG,GAC9B,kBAAM/F,SAASC,oBAAoB,UAAW8F,MAEpD,CAACH,IAGF,qBAAK1F,UAAS,+BAA0BY,EAAO,eAAiB,IAAMX,QAAS2F,EAA/E,SACE,sBAAK5F,UAAU,uBAAuBC,QAAS,SAACT,GAAD,OAAOA,EAAEwG,mBAAxD,UACE,qBAAKhG,UAAU,aAAaK,IAAI,wIAA0BF,IAAG,OAAES,QAAF,IAAEA,OAAF,EAAEA,EAAMjD,OACrE,oBAAIqC,UAAU,mBAAd,0BAAqCY,QAArC,IAAqCA,OAArC,EAAqCA,EAAMnD,KAA3C,sBAAsDmD,QAAtD,IAAsDA,OAAtD,EAAsDA,EAAMM,MAAMzD,KAAlE,oBAA2EmD,QAA3E,IAA2EA,OAA3E,EAA2EA,EAAMM,MAAMxD,MAAvF,OACA,wBAAQsC,UAAU,sBAAsB4B,KAAK,SAAS,aAAW,8FAAjE,SACE,qBAAK5B,UAAU,0BAA0BG,IAAK+F,EAAkB7F,IAAI,sEAAeJ,QAAS2F,YCvBvF,MAA0B,oCCA1B,MAA0B,qCCuC1BoB,MAhCf,YAA+D,IAAxCC,EAAuC,EAAvCA,QAASvB,EAA8B,EAA9BA,OAAQE,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,UAY/C,OAVA9G,IAAMY,WAAU,WACd,GAAK+F,EAKL,OADA5F,SAASD,iBAAiB,UAAWgG,GAC9B,kBAAM/F,SAASC,oBAAoB,UAAW8F,MAEpD,CAACH,IAGF,qBAAK1F,UAAS,oCAA+B0F,EAAS,eAAiB,GAAzD,KAAgEzF,QAAS2F,EAAvF,SACE,sBAAK5F,UAAU,mBAAmBC,QAAS,SAACT,GAAD,OAAOA,EAAEwG,mBAApD,UACE,qBAAKhG,UAAU,cAAcG,IAAK8G,EAAUC,EAAUC,EAAU9G,IAAK4G,EAAU,eAAO,yCACtF,mBAAGjH,UAAU,cAAb,SAA4BiH,EAAU,wKAAmC,wMACzE,wBAAQjH,UAAU,sBAAsB4B,KAAK,SAAS,aAAW,sEAAe3B,QAAS2F,EAAzF,SACE,qBAAK5F,UAAU,0BAA0BG,IAAK+F,EAAkB7F,IAAI,gF,gBC+P/D5B,4BA9Pf,YAA2B,IAAZsE,EAAW,EAAXA,QACb,EAAsDhE,IAAMC,UAAS,GAArE,mBAAOoI,EAAP,KAA4BC,EAA5B,KACA,EAAwDtI,IAAMC,UAAS,GAAvE,mBAAOsI,EAAP,KAA6BC,EAA7B,KACA,EAAgDxI,IAAMC,UAAS,GAA/D,mBAAOwI,EAAP,KAAyBC,EAAzB,KACA,EAAwD1I,IAAMC,UAAS,GAAvE,mBAAO0I,EAAP,KAA6BC,EAA7B,KACA,EAAoD5I,IAAMC,UAAS,GAAnE,mBAAO4I,EAAP,KAA2BC,EAA3B,KACA,EAAwC9I,IAAMC,WAA9C,mBAAO8I,EAAP,KAAqBC,EAArB,KACA,EAAsChJ,IAAMC,SAAS,IAArD,mBAAO+B,EAAP,KAAoBiH,EAApB,KACA,EAA0BjJ,IAAMC,SAAS,IAAzC,mBAAOgD,EAAP,KAAciG,GAAd,KACA,GAAgClJ,IAAMC,UAAS,GAA/C,qBAAOV,GAAP,MAAiB4J,GAAjB,MACA,GAAgCnJ,IAAMC,SAAS,IAA/C,qBAAOH,GAAP,MAAiBsJ,GAAjB,MAEQC,GAAaC,wBAAbD,SAqCR,SAAStF,GAAWmE,GAClBU,GAAwB,GACxBE,EAAsBZ,GAGxB,SAASqB,KACPjB,GAAuB,GACvBE,GAAwB,GACxBE,GAAoB,GACpBE,GAAwB,GACxBI,OAAgBQ,GAGlB,SAAS1C,GAAT,GACc,WADc,EAAP2C,KAEjBF,KAwEJ,SAASG,GAAY9E,I1BvHG,SAACA,GACzB,OAAO3G,MAAM,GAAD,OAAIwB,EAAJ,aAAyB,CACnCnB,OAAQ,MACRN,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2B4G,MAG5BzG,MAAK,SAAAW,GAAG,OAAIA,EAAIE,UAChBiG,OAAM,SAAC0E,GAAD,OAASC,QAAQC,IAAIF,O0B+G5B9E,CAAgBD,GACbzG,MAAK,SAACW,GACDA,IACFsK,GAAYtK,EAAI6F,KAAKL,OACrB6E,IAAY,GACZnF,EAAQgB,KAAK,gBAcrB,OA9IAhF,IAAMY,WAAU,WACd3B,QAAQ6K,IAAI,CACVtM,EAAIuM,iBACJvM,EAAIwM,oBAEH7L,MAAK,YAAuB,IAAD,mBAApB8L,EAAoB,KAAXhH,EAAW,KAC1BgG,EAAegB,GACff,GAASjG,MAEVgC,OAAM,SAAC0E,GACNC,QAAQC,IAAIF,QAEf,IAEH3J,IAAMY,WAAU,WACd,IAAMgE,EAAQE,aAAaoF,QAAQ,SAE/BtF,GACF8E,GAAY9E,KAGb,IA0HD,cAAClD,EAAmByI,SAApB,CAA6BC,MAAOpI,EAApC,SACE,sBAAKf,UAAU,OAAf,UAEE,sBAAKA,UAAU,kBAAf,UACE,cAAC,EAAD,CACEpB,SAAUwJ,GACVvJ,SAAUA,GACVC,aAbV,WACE+E,aAAauF,WAAW,SACxBlB,IAAY,IAYJ5J,SAAUA,KAEZ,sBAAM0B,UAAU,UAAhB,SAEE,eAAC,SAAD,WACE,cAAC,EAAD,CACE5B,KAAK,WACLE,SAAUA,GAFZ,SAIE,cAAC,EAAD,CACE0D,MAAOA,EACPjB,YAAaA,EACbsB,WAnFhB,SAAwBzB,GACtB,IAAMQ,EAAUR,EAAKS,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEJ,MAAQJ,EAAYI,OAE3D8G,IAAS,SAAC3H,GAAD,OAAWA,EAAMoC,KAAI,SAAC2G,GAAD,OAAOA,EAAElI,MAAQP,EAAKO,IAAf,2BAA0BkI,GAA1B,IAA6B1H,aAAa,IAAS0H,SAExEjI,EACd7E,EAAI+M,WAAW1I,EAAKO,KACpB5E,EAAIgN,SAAS3I,EAAKO,MAGjBjE,MAAK,SAAC0D,GACLqH,IAAS,SAAC3H,GAAD,OAAWA,EAAMoC,KAAI,SAAC2G,GAAD,OAAOA,EAAElI,MAAQP,EAAKO,IAAMP,EAAOyI,WAElErF,OAAM,SAAC0E,GACNC,QAAQC,IAAIF,OAsEFpG,aAlEhB,SAA0B1B,GACxBqH,IAAS,SAAC3H,GAAD,OAAWA,EAAMoC,KAAI,SAAC2G,GAAD,OAAOA,EAAElI,MAAQP,EAAKO,IAAf,2BAA0BkI,GAA1B,IAA6B3H,eAAe,IAAS2H,QAE1F9M,EAAIiN,WAAW5I,EAAKO,KACjBjE,MAAK,WACJ,IAAMuM,EAAWzH,EAAM0H,QAAO,SAACL,GAAD,OAAOA,EAAElI,MAAQP,EAAKO,OACpD8G,GAASwB,MAEVzF,OAAM,SAAC0E,GACNC,QAAQC,IAAIF,OA0DFxG,aA9IhB,WACEmF,GAAuB,IA8ITpF,cA3IhB,WACEsF,GAAwB,IA2IVpF,UAxIhB,WACEsF,GAAoB,IAwINrF,YAlHhB,SAAyBxB,GACvBmH,EAAgBnH,QAqHN,cAAC,QAAD,CAAOxC,KAAK,WAAZ,SACE,cAAC,EAAD,CACE0E,WAAYA,GACZD,YA1ChB,SAAqBc,GACnB8E,GAAY9E,QA6CF,cAAC,QAAD,CAAOvF,KAAK,WAAZ,SACE,cAAC,EAAD,CACE0E,WAAYA,OAIhB,cAAC,QAAD,CAAO6G,OAAK,EAACvL,KAAK,IAAlB,SACGE,GAAW,cAAC,WAAD,CAAUC,GAAG,aAAgB,cAAC,WAAD,CAAUA,GAAG,oBAK5D,cAAC,EAAD,OAGDwC,EAAYtD,MACX,cAAC,EAAD,CACE2I,aA1IV,SAA0B1C,GACxBnH,EAAIqN,eAAelG,EAAKjG,KAAMiG,EAAKhG,OAChCR,MAAK,SAAC2M,GACL7B,EAAe6B,GACfvB,QAEDtE,OAAM,SAAC0E,GACNC,QAAQC,IAAIF,OAoIRhD,OAAQ4B,EACR1B,QAAS0C,GACTzC,UAAWA,KAIf,cAAC,EAAD,CACEY,eAvIR,YAAyC,IAAXrJ,EAAU,EAAVA,OAC5Bb,EAAIuN,UAAU1M,GACXF,MAAK,SAAC2M,GACL7B,EAAe6B,GACfvB,QAEDtE,OAAM,SAAC0E,GACNC,QAAQC,IAAIF,OAiIVhD,OAAQ0B,EACRxB,QAAS0C,GACTzC,UAAWA,KAGb,cAAC,EAAD,CACEgB,WApGR,SAA8BnD,GAC5BnH,EAAIwN,WAAWrG,EAAK8B,MAAO9B,EAAKoD,KAC7B5J,MAAK,SAAC8M,GACL/B,GAAS,CAAC+B,GAAF,mBAAchI,KACtBsG,QAEDtE,OAAM,SAAC0E,GACNC,QAAQC,IAAIF,OA8FVhD,OAAQ8B,EACR5B,QAAS0C,GACTzC,UAAWA,KAGb,cAAC,EAAD,CACEjF,KAAMkH,EACNpC,OAAQgC,EACR9B,QAAS0C,GACTzC,UAAWA,KAGb,cAAC,EAAD,CACEoB,QAASW,EACTlC,OAAQgC,EACR9B,QAAS0C,GACTzC,UAAWA,aChQNoE,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBjN,MAAK,YAAkD,IAA/CkN,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCGdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAeC,SAAUC,oBAAzB,SACE,cAAC,EAAD,QAGJ/K,SAASgL,eAAe,SAG1Bb,K","file":"static/js/main.21bfe4a7.chunk.js","sourcesContent":["class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._groupID = options.groupID;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/${this._groupID}/cards`, {\r\n      headers: {\r\n        authorization: this._headers.authorization\r\n      }\r\n    })\r\n      .then(this._handleResult);\r\n  }\r\n\r\n  getProfileData() {\r\n    return fetch(`${this._baseUrl}/${this._groupID}/users/me`, {\r\n      headers: {\r\n        authorization: this._headers.authorization\r\n      }\r\n    })\r\n      .then(this._handleResult);\r\n  }\r\n\r\n  setAvatar(avatar) {\r\n    return fetch(`${this._baseUrl}/${this._groupID}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: avatar\r\n      })\r\n    })\r\n      .then(this._handleResult);\r\n  }\r\n\r\n  setProfileData(name, about) {\r\n    return fetch(`${this._baseUrl}/${this._groupID}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        about\r\n      })\r\n    })\r\n      .then(this._handleResult);\r\n  }\r\n\r\n  createCard(name, link) {\r\n    return fetch(`${this._baseUrl}/${this._groupID}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        link\r\n      })\r\n    })\r\n      .then(this._handleResult);\r\n  }\r\n\r\n  removeCard(id) {\r\n    return fetch(`${this._baseUrl}/${this._groupID}/cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers\r\n    })\r\n      .then(this._handleResult);\r\n  }\r\n\r\n  likeCard(id) {\r\n    return fetch(`${this._baseUrl}/${this._groupID}/cards/likes/${id}`, {\r\n      method: \"PUT\",\r\n      headers: this._headers\r\n    })\r\n      .then(this._handleResult);\r\n  }\r\n\r\n  unlikeCard(id) {\r\n    return fetch(`${this._baseUrl}/${this._groupID}/cards/likes/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers\r\n    })\r\n      .then(this._handleResult);\r\n  }\r\n\r\n  _handleResult(res) {\r\n    if (res.ok) { return res.json() }\r\n    return Promise.reject(`Статут ошибки: ${res.status}`);\r\n  }\r\n}\r\n\r\nconst api = new Api(\r\n  {\r\n    baseUrl: \"https://mesto.nomoreparties.co/v1\",\r\n    groupID: \"cohort-26\",\r\n    headers: {\r\n      authorization: \"05288f01-26d1-4add-96c0-b100674c662e\",\r\n      \"Content-Type\": \"application/json\"\r\n    }\r\n  });\r\n\r\nexport default api;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ProtectedRoute = ({ path, children, loggedIn }) => {\r\n  return (\r\n    <Route path={path}>\r\n      {() =>\r\n        loggedIn ? children : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  )\r\n};\r\n\r\nProtectedRoute.propTypes = {\r\n  path: PropTypes.string.isRequired,\r\n  children: PropTypes.element.isRequired,\r\n  loggedIn: PropTypes.bool.isRequired,\r\n}\r\n\r\nexport default ProtectedRoute;","export const BASE_URL = \"https://auth.nomoreparties.co\";\r\n\r\nexport const register = ({ email, password }) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n    .then(res => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else {\r\n        throw new Error(\"Ошибка регистрации\");\r\n      }\r\n    })\r\n};\r\n\r\nexport const authorize = ({ email, password }) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n    .then(res => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else {\r\n        throw new Error(\"Ошибка авторизации\");\r\n      }\r\n    })\r\n    .then((data) => {\r\n      if (data.token) {\r\n        return data.token;\r\n      } else {\r\n        return;\r\n      }\r\n    })\r\n}\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"Authorization\": `Bearer ${token}`\r\n    }\r\n  })\r\n    .then(res => res.json())\r\n    .catch((err) => console.log(err));\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.9acae848.svg\";","export default __webpack_public_path__ + \"static/media/button-profile.ccf70202.svg\";","export default __webpack_public_path__ + \"static/media/button-сlose-profile.245cc7c3.svg\";","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport logo from \"../images/logo.svg\";\r\nimport butonProfileData from \"../images/button-profile.svg\";\r\nimport buttonCloseProfileData from \"../images/button-сlose-profile.svg\";\r\n\r\nfunction Header({ loggedIn, pageType, userData, handleLogout }) {\r\n  const [headerMobile, setHeaderMobile] = React.useState(true);\r\n  const [openedProfileData, setOpenedProfileData] = React.useState(false);\r\n\r\n  let headerUserEmail = \"\";\r\n  let headerLinkName;\r\n  let headerLink;\r\n\r\n  React.useEffect(() => {\r\n    window.addEventListener(\"resize\", onСhangedScreenWidth);\r\n    return () => document.removeEventListener(\"resize\", onСhangedScreenWidth);\r\n  })\r\n\r\n  if (pageType === \"/sign-in\") {\r\n    headerLinkName = \"Регистрация\";\r\n    headerLink = \"/sign-up\";\r\n  } else if (pageType === \"/sign-up\") {\r\n    headerLinkName = \"Войти\";\r\n    headerLink = \"/sign-in\";\r\n  } else if (pageType === \"/content\") {\r\n    headerUserEmail = userData;\r\n    headerLinkName = \"Выйти\";\r\n    headerLink = \"/sign-in\";\r\n  } else if (pageType === \"/\") {\r\n    if (loggedIn) {\r\n      headerUserEmail = userData;\r\n      headerLinkName = \"Выйти\";\r\n      headerLink = \"/sign-in\";\r\n    } else {\r\n      headerLinkName = \"Регистрация\";\r\n      headerLink = \"/sign-up\";\r\n    }\r\n  }\r\n\r\n  function signOut() {\r\n    if (pageType === \"/content\") {\r\n      handleLogout();\r\n      setOpenedProfileData(false);\r\n    }\r\n  }\r\n\r\n  function onСhangedScreenWidth(e) {\r\n    if (e.target.innerWidth <= 680) {\r\n      setHeaderMobile(true);\r\n    } else if (e.target.innerWidth > 680) {\r\n      setHeaderMobile(false);\r\n    }\r\n  }\r\n\r\n  function handleOpenProfileData() {\r\n    setOpenedProfileData(state => !state);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {\r\n        headerMobile && loggedIn\r\n        &&\r\n        <div className={`header__profile-data ${!openedProfileData ? \"header__profile-data_disabled\" : \"\"}`}>\r\n          <p className=\"header__profile-data-mail\">{headerUserEmail}</p>\r\n          <Link className=\"header__profile-data-link\" to={headerLink} onClick={signOut}>{headerLinkName}</Link>\r\n        </div>\r\n      }\r\n      <header className=\"header\">\r\n        <a className=\"logo\" href=\"/\">\r\n          <img className=\"logo__image\" src={logo} alt=\"Логотип проекта Mesto\" />\r\n        </a>\r\n        {\r\n         loggedIn && headerMobile\r\n            ?\r\n              <button className=\"header__buton-profile-data\" onClick={handleOpenProfileData}>\r\n                <img className=\"header__buton-profile-data-img\" src={!openedProfileData ? butonProfileData : buttonCloseProfileData} alt=\"Регистрационные данные пользователя\" />\r\n              </button>\r\n            :\r\n            <p className=\"header__mail\">{headerUserEmail}\r\n              <Link className=\"header__link\" to={headerLink} onClick={signOut}>{headerLinkName}</Link>\r\n            </p>\r\n\r\n        }\r\n      </header>\r\n    </>\r\n  );\r\n}\r\n\r\nHeader.propTypes = {\r\n  loggedIn: PropTypes.bool.isRequired,\r\n  pageType: PropTypes.string.isRequired,\r\n  userData: PropTypes.string.isRequired,\r\n  handleLogout: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default withRouter(Header);\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","export default __webpack_public_path__ + \"static/media/button-delete.e3c42771.svg\";","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nimport buttonDeleteCard from \"../images/button-delete.svg\";\r\n\r\nfunction Card({ card, onClick, onLikeClick, onDeleteClick }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n  let cardDeleteButtonClassName = `${isOwn ? \"card__button-delete\" : \"card__button-delete card__button-delete_disabled\"}`;\r\n  let cardLikeButtonClassName = `${isLiked ? \"card__button-like-img card__button-like-img_active\" : \"card__button-like-img\"}`;\r\n\r\n  if (card.deleteClicked) {\r\n    cardDeleteButtonClassName += \" card__button-delete_wait\";\r\n  }\r\n\r\n  if (card.likeClicked) {\r\n    cardLikeButtonClassName += \" card__button-like-img_wait\";\r\n  }\r\n\r\n  return (\r\n    <li className=\"photo-gallery__card card list__item\">\r\n      <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"Удалить\" onClick={() => onDeleteClick(card)}>\r\n        <img className=\"card__button-delete-img\" src={buttonDeleteCard} alt=\"Удалить карточку\" />\r\n      </button>\r\n      <img className=\"card__photo\" src={card.link} alt={card.name} onClick={() => onClick(card)} />\r\n      <div className=\"card__title-and-like\">\r\n        <h2 className=\"card__title\">{card.name}</h2>\r\n        <button className=\"card__button-like\" type=\"button\" aria-label=\"Нравится\" onClick={() => onLikeClick(card)}>\r\n          <div className={cardLikeButtonClassName}></div>\r\n          <p className=\"card__button-like-count\">{card.likes.length}</p>\r\n        </button>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nCard.propTypes = {\r\n  card: PropTypes.object.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n  onLikeClick: PropTypes.func.isRequired,\r\n  onDeleteClick: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Card;\r\n","export default __webpack_public_path__ + \"static/media/loader.3e10a767.gif\";","export default __webpack_public_path__ + \"static/media/button-edit.6c7bf054.svg\";","export default __webpack_public_path__ + \"static/media/button-add.bed8c136.svg\";","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Card from \"./Card\";\r\n\r\nimport loader from \"../images/loader.gif\";\r\nimport buttonEditImg from \"../images/button-edit.svg\";\r\nimport buttonAddCard from \"../images/button-add.svg\";\r\n\r\nfunction Main({ cards, currentUser, onEditProfile, onEditAvatar, onAddCard, onCardClick, onCardLike, onCardDelete }) {\r\n  return (\r\n    <>\r\n      <section className=\"profile\">\r\n        <button className=\"profile__button-edit-avatar profile__button-edit-avatar-overlay\" onClick={onEditAvatar}>\r\n          <img className=\"profile__avatar\" src={currentUser.avatar ?? loader} alt=\"Фото профиля\" />\r\n        </button>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__info-full-name-and-button-edit\">\r\n            <h1 id=\"fullName\" className=\"profile__info-full-name\">{currentUser.name}</h1>\r\n            <button className=\"profile__button-edit\" type=\"button\" aria-label=\"Изменить\" onClick={onEditProfile}>\r\n              <img className=\"profile__button-edit-img\" src={buttonEditImg} alt=\"Кнопка редактирования профиля\" />\r\n            </button>\r\n          </div>\r\n          <p id=\"profession\" className=\"profile__info-profession\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"profile__button-add-card\" type=\"button\" aria-label=\"Добавить фото\" onClick={onAddCard}>\r\n          <img className=\"profile__button-add-card-img\" src={buttonAddCard} alt=\"Кнопка добавления места\" />\r\n        </button>\r\n      </section>\r\n      <section className=\"photo-gallery\">\r\n        <ul className=\"photo-gallery__cards list\">\r\n          {cards.map((item) => (\r\n            <Card\r\n              key={item._id}\r\n              card={item}\r\n              onClick={onCardClick}\r\n              onLikeClick={onCardLike}\r\n              onDeleteClick={onCardDelete}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nMain.propTypes = {\r\n  cards: PropTypes.array.isRequired,\r\n  currentUser: PropTypes.object.isRequired,\r\n  onCardLike: PropTypes.func.isRequired,\r\n  onCardDelete: PropTypes.func.isRequired,\r\n  onEditAvatar: PropTypes.func.isRequired,\r\n  onEditProfile: PropTypes.func.isRequired,\r\n  onAddCard: PropTypes.func.isRequired,\r\n  onCardClick: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useFormik } from \"formik\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport * as auth from \"../utils/Auth.js\";\r\n\r\nimport loader from \"../images/loader.gif\";\r\n\r\nfunction Login({ handleLogin, showResult, history }) {\r\n  const [isLogined, setIsLogined] = React.useState(false);\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: \"\",\r\n      password: \"\",\r\n    },\r\n    onSubmit: (values) => {\r\n      setIsLogined(true);\r\n      auth\r\n        .authorize({\r\n          email: values.email,\r\n          password: values.password,\r\n        })\r\n        .then((token) => {\r\n          if (token) {\r\n            localStorage.setItem(\"token\", token);\r\n            handleLogin(token);\r\n            setIsLogined(false);\r\n            history.push(\"/content\");\r\n          }\r\n        })\r\n        .catch(() => {\r\n          showResult(false);\r\n          setIsLogined(false);\r\n        });\r\n    },\r\n  });\r\n\r\n  return (\r\n    <section className=\"login\">\r\n      <h1 className=\"login__title\">Вход</h1>\r\n      <form className=\"login__form\" name=\"login\" onSubmit={formik.handleSubmit}>\r\n        <fieldset className=\"login__fieldset\">\r\n          <input\r\n            id=\"login-input-email\"\r\n            className=\"login__input\"\r\n            type=\"email\"\r\n            {...formik.getFieldProps(\"email\")}\r\n            placeholder=\"Email\"\r\n            required\r\n          />\r\n          <input\r\n            id=\"login-input-pass\"\r\n            className=\"login__input\"\r\n            type=\"password\"\r\n            {...formik.getFieldProps(\"password\")}\r\n            placeholder=\"Пароль\"\r\n            required\r\n          />\r\n        </fieldset>\r\n\r\n        {isLogined && (\r\n          <div className=\"login__loadbar\">\r\n            <img\r\n              className=\"login__loadbar-img\"\r\n              src={loader}\r\n              alt=\"Вход\"\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        <button className=\"login__button\" type=\"submit\" aria-label=\"Войти\">\r\n          Войти\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nLogin.propTypes = {\r\n  history: PropTypes.object.isRequired,\r\n  handleLogin: PropTypes.func.isRequired,\r\n  showResult: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withRouter(Login);\r\n","export default __webpack_public_path__ + \"static/media/icon-eye-open.3c6c9d33.svg\";","export default __webpack_public_path__ + \"static/media/icon-eye-close.0b8cce9b.svg\";","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport * as auth from \"../utils/Auth.js\";\r\n\r\nimport eyeOpen from \"../images/icon-eye-open.svg\";\r\nimport eyeClose from \"../images/icon-eye-close.svg\";\r\nimport loader from \"../images/loader.gif\";\r\n\r\nfunction Register({ history, showResult }) {\r\nconst [isRegistered, setIsRegistered] = React.useState(false);\r\nconst [visiblePass, setVisibilityPass] = React.useState(false);\r\nconst [visibleConfirmPass, setVisibilityConfirmPass] = React.useState(false);\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: \"\",\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n    },\r\n    validationSchema: Yup.object({\r\n      email: Yup.string()\r\n        .email(\"Введите, пожулуйста, корректный email\")\r\n        .required(\"Введите, пожалуйста, email\"),\r\n      password: Yup.string()\r\n        .min(8, \"Пароль не должно быть короче 8 символов\")\r\n        .matches(\r\n          /^[a-zA-Z0-9]/,\r\n          \"Пароль может сожержать только латинские символы\"\r\n        )\r\n        .matches(\r\n          /^(?=.*[A-Z])/,\r\n          \"Пароль должен содердать хотябы один символ верхнего регистра\"\r\n        )\r\n        .matches(\r\n          /^(?=.*[a-z])/,\r\n          \"Пароль должен содердать хотябы один символ нижнего регистра\"\r\n        )\r\n        .matches(/^(?=.*[0-9])/, \"Пароль должен содердать хотябы одну цифру\")\r\n        .required(\"Введите, пожалуйста, пароль\"),\r\n      confirmPassword: Yup.string()\r\n        .oneOf([Yup.ref(\"password\"), null], \"Пароли не совпадают\")\r\n        .required(\"Введите пароль повторно, пожалуйста\"),\r\n    }),\r\n    onSubmit: (values) => {\r\n      setIsRegistered(true)\r\n      if (values.password === values.confirmPassword) {\r\n        auth\r\n          .register({\r\n            email: values.email,\r\n            password: values.password,\r\n          })\r\n          .then(() => {\r\n            showResult(true);\r\n            setIsRegistered(false);\r\n            history.push(\"/sign-in\");\r\n          })\r\n          .catch(() => {\r\n            showResult(false);\r\n            setIsRegistered(false);\r\n          });\r\n      }\r\n    },\r\n  });\r\n\r\n  function changeButtonPass() {\r\n    setVisibilityPass((state) => !state);\r\n  }\r\n\r\n  function changeButtonConfirmPass() {\r\n    setVisibilityConfirmPass((state) => !state);\r\n  }\r\n\r\n  return (\r\n    <section className=\"register\">\r\n      <h1 className=\"register__title\">Регистрация</h1>\r\n      <form\r\n        className=\"register__form\"\r\n        name=\"register\"\r\n        onSubmit={formik.handleSubmit}\r\n      >\r\n        <fieldset className=\"login__fieldset\">\r\n          <input\r\n            id=\"register-input-email\"\r\n            className=\"register__input\"\r\n            type=\"email\"\r\n            {...formik.getFieldProps(\"email\")}\r\n            placeholder=\"Email\"\r\n          />\r\n          <span className=\"register__error\">\r\n            {formik.touched.email && formik.errors.email\r\n              ? formik.errors.email\r\n              : null}\r\n          </span>\r\n          <div className=\"register__pass-input\">\r\n            <input\r\n              id=\"register-input-pass\"\r\n              className=\"register__input\"\r\n              type={!visiblePass ? \"password\" : \"text\"}\r\n              {...formik.getFieldProps(\"password\")}\r\n              placeholder=\"Пароль\"\r\n            />\r\n            <button className=\"register__eye\" onClick={changeButtonPass}>\r\n              <img\r\n                className=\"register__eye-img\"\r\n                src={!visiblePass ? eyeClose : eyeOpen}\r\n                alt={!visiblePass ? \"Пароль скрыт\" : \"Пароль показан\"}\r\n              />\r\n            </button>\r\n          </div>\r\n          <span className=\"register__error\">\r\n            {formik.touched.password && formik.errors.password\r\n              ? formik.errors.password\r\n              : null}\r\n          </span>\r\n          <div className=\"register__pass-input\">\r\n            <input\r\n              id=\"register-input-confirm-pass\"\r\n              className=\"register__input\"\r\n              type={!visibleConfirmPass ? \"password\" : \"text\"}\r\n              {...formik.getFieldProps(\"confirmPassword\")}\r\n              placeholder=\"Повторите пароль\"\r\n            />\r\n            <button className=\"register__eye\" onClick={changeButtonConfirmPass}>\r\n              <img\r\n                className=\"register__eye-img\"\r\n                src={!visibleConfirmPass ? eyeClose : eyeOpen}\r\n                alt={!visibleConfirmPass ? \"Пароль скрыт\" : \"Пароль показан\"}\r\n              />\r\n            </button>\r\n          </div>\r\n          <span className=\"register__error\">\r\n            {formik.touched.confirmPassword && formik.errors.confirmPassword\r\n              ? formik.errors.confirmPassword\r\n              : null}\r\n          </span>\r\n        </fieldset>\r\n\r\n        {isRegistered\r\n        &&\r\n        <div className=\"register__loadbar\">\r\n          <img className=\"register__loadbar-img\" src={loader} alt=\"Регистрация\" />\r\n        </div>\r\n        }\r\n\r\n        <button\r\n          className={`register__button ${\r\n            !formik.isValid ? \"register__button_disabled\" : \"\"\r\n          }`}\r\n          type=\"submit\"\r\n          aria-label=\"Зарегистрироваться\"\r\n          disabled={!formik.isValid}\r\n        >\r\n          Зарегистрироваться\r\n        </button>\r\n      </form>\r\n      <p className=\"register__question\">\r\n        Уже зарегистрированы?{\" \"}\r\n        <Link className=\"register__link\" to=\"/sign-in\">\r\n          Войти\r\n        </Link>\r\n      </p>\r\n    </section>\r\n  );\r\n}\r\n\r\nRegister.propTypes = {\r\n  history: PropTypes.object.isRequired,\r\n  showResult: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withRouter(Register);\r\n","export default __webpack_public_path__ + \"static/media/button-сlose.9f1fbe67.svg\";","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport buttonClosePopup from \"../images/button-сlose.svg\";\r\n\r\nfunction PopupWithForm({ title, name, buttonText, children, isOpen, disabledSubmit, onSubmit, onClose, onKeydown }) {\r\n  const [isSubmit, setIsSubmit] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    setIsSubmit(false);\r\n  }, [isOpen]);\r\n\r\n  React.useEffect(() => {\r\n    if (!isOpen) {\r\n      return;\r\n    }\r\n\r\n    document.addEventListener(\"keydown\", onKeydown);\r\n    return () => document.removeEventListener(\"keydown\", onKeydown);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isOpen])\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onSubmit();\r\n    setIsSubmit(true);\r\n  }\r\n\r\n  return (\r\n    <div className={`popup popup_type_${name} ${isOpen ? \"popup_opened\" : \"\"} `} onClick={onClose}>\r\n      <div className=\"popup__container\" onClick={(e) => e.stopPropagation()}>\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form className={`popup__form popup__form_type_${name} `} name={`form - ${name}`} onSubmit={handleSubmit} >\r\n          {children}\r\n          <button className={`popup__button-save ${disabledSubmit ? \"popup__button-save_disabled\" : \"\"}`} type=\"submit\" aria-label=\"Сохранить\" disabled={disabledSubmit}>\r\n            {buttonText}{isSubmit ? \"...\" : \"\"}\r\n          </button>\r\n        </form>\r\n        <button className=\"popup__button-close\" type=\"button\" aria-label=\"Закрыть окно\" onClick={onClose}>\r\n          <img className=\"popup__button-close-img\" src={buttonClosePopup} alt=\"Закрыть окно\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nPopupWithForm.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  buttonText: PropTypes.string.isRequired,\r\n  children: PropTypes.element.isRequired,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  disabledSubmit: PropTypes.bool.isRequired,\r\n  onSubmit: PropTypes.func.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  onKeydown: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ onUpdateUser, isOpen, onClose, onKeydown }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      fullName: currentUser.name,\r\n      profession: currentUser.about,\r\n    },\r\n    validationSchema: Yup.object({\r\n      fullName: Yup.string()\r\n        .min(2, \"Имя не должно быть короче 2 символов\")\r\n        .max(40, \"Имя не должно превышать 40 символов\")\r\n        .required(\"Введите, пожалуйста, имя\"),\r\n      profession: Yup.string()\r\n        .min(2, \"Профессия не должно быть короче 2 символов\")\r\n        .max(200, \"Профессия не должно превышать 200 символов\")\r\n        .required(\"Введите, пожалуйста, профессию\"),\r\n    }),\r\n    onSubmit: (values) => {\r\n      onUpdateUser({\r\n        name: values.fullName,\r\n        about: values.profession,\r\n      });\r\n    },\r\n  });\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-profile\"\r\n      title=\"Редактировать профиль\"\r\n      buttonText=\"Сохранить\"\r\n      onSubmit={formik.handleSubmit}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onKeydown={onKeydown}\r\n      disabledSubmit={!formik.isValid}\r\n    >\r\n      <fieldset className=\"popup__fieldset\">\r\n\r\n        <input\r\n          id=\"name-input\"\r\n          className=\"popup__input popup__input_text_full-name\"\r\n          type=\"text\"\r\n          {...formik.getFieldProps(\"fullName\")}\r\n          placeholder=\"Ваше имя\"\r\n        />\r\n        <span className=\"popup__error\">\r\n          {formik.touched.fullName && formik.errors.fullName ? formik.errors.fullName : null}\r\n        </span>\r\n\r\n        <input\r\n          id=\"about-you-input\"\r\n          className=\"popup__input popup__input_text_profession\"\r\n          type=\"text\"\r\n          {...formik.getFieldProps(\"profession\")}\r\n          placeholder=\"Ваша профессия\"\r\n        />\r\n        <span className=\"popup__error\">\r\n          {formik.touched.profession && formik.errors.profession ? formik.errors.profession : null}\r\n        </span>\r\n\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nEditProfilePopup.propTypes = {\r\n  onUpdateUser: PropTypes.func.isRequired,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  onKeydown: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ onUpdateAvatar, isOpen, onClose, onKeydown }) {\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      avatar: \"\",\r\n    },\r\n    validationSchema: Yup.object({\r\n      avatar: Yup.string()\r\n        .url(\"Введите, пожалуйста, корректную ссылку\")\r\n        .required(\"Введите, пожалуйста, ссылку на изображение\"),\r\n    }),\r\n    onSubmit: (values) => {\r\n      onUpdateAvatar({\r\n        avatar: values.avatar,\r\n      });\r\n    },\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    formik.resetForm();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-avatar\"\r\n      title=\"Обновить аватар\"\r\n      buttonText=\"Сохранить\"\r\n      onSubmit={formik.handleSubmit}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onKeydown={onKeydown}\r\n      disabledSubmit={!formik.isValid}\r\n    >\r\n      <fieldset className=\"popup__fieldset\">\r\n        <input\r\n          id=\"url-avatar-input\"\r\n          className=\"popup__input\"\r\n          type=\"url\"\r\n          {...formik.getFieldProps(\"avatar\")}\r\n          placeholder=\"Ссылка на аватар\"\r\n        />\r\n        <span className=\"popup__error\">\r\n          {formik.touched.avatar && formik.errors.avatar ? formik.errors.avatar : null}\r\n        </span>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nEditAvatarPopup.propTypes = {\r\n  onUpdateAvatar: PropTypes.func.isRequired,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  onKeydown: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ onAddPlace, isOpen, onClose, onKeydown }) {\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      title: \"\",\r\n      pic: \"\",\r\n    },\r\n    validationSchema: Yup.object({\r\n      title: Yup.string()\r\n        .min(2, \"Название не должно быть короче 2 символов\")\r\n        .max(30, \"Название не должно превышать 30 символов\")\r\n        .required(\"Введите, пожалуйста, название\"),\r\n      pic: Yup.string()\r\n        .url(\"Введите, пожалуйста, корректную ссылку\")\r\n        .required(\"Введите, пожалуйста, ссылку на изображение\"),\r\n    }),\r\n    onSubmit: (values) => {\r\n      onAddPlace({\r\n        title: values.title,\r\n        pic: values.pic,\r\n      });\r\n    },\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    formik.resetForm();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-card\"\r\n      title=\"Новое место\"\r\n      buttonText=\"Создать\"\r\n      onSubmit={formik.handleSubmit}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onKeydown={onKeydown}\r\n      disabledSubmit={!formik.isValid}\r\n    >\r\n      <fieldset className=\"popup__fieldset\">\r\n        <input\r\n          id=\"title-pic-input\"\r\n          className=\"popup__input\"\r\n          type=\"text\"\r\n          {...formik.getFieldProps(\"title\")}\r\n          placeholder=\"Название места\"\r\n        />\r\n        <span className=\"popup__error\">\r\n          {formik.touched.title && formik.errors.title ? formik.errors.title : null}\r\n        </span>\r\n\r\n        <input\r\n          id=\"url-pic-input\"\r\n          className=\"popup__input popup__input_url_pic\"\r\n          type=\"url\"\r\n          {...formik.getFieldProps(\"pic\")}\r\n          placeholder=\"Ссылка на картинку\"\r\n        />\r\n        <span className=\"popup__error\">\r\n          {formik.touched.pic && formik.errors.pic ? formik.errors.pic : null}\r\n        </span>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nAddPlacePopup.propTypes = {\r\n  onAddPlace: PropTypes.func.isRequired,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  onKeydown: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport buttonClosePopup from \"../images/button-сlose.svg\";\r\n\r\nfunction ImagePopup({ card, isOpen, onClose, onKeydown }) {\r\n\r\n  React.useEffect(() => {\r\n    if (!isOpen) {\r\n      return;\r\n    }\r\n\r\n    document.addEventListener(\"keydown\", onKeydown);\r\n    return () => document.removeEventListener(\"keydown\", onKeydown);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isOpen])\r\n\r\n  return (\r\n    <div className={`popup popup_type_pic ${card ? \"popup_opened\" : \"\"}`} onClick={onClose}>\r\n      <div className=\"popup__container-pic\" onClick={(e) => e.stopPropagation()}>\r\n        <img className=\"popup__pic\" alt=\"Изображение отсутствует\" src={card?.link} />\r\n        <h2 className=\"popup__pic-title\">{`${card?.name} || ${card?.owner.name} (${card?.owner.about})`}</h2>\r\n        <button className=\"popup__button-close\" type=\"button\" aria-label=\"Закрыть картинку\">\r\n          <img className=\"popup__button-close-img\" src={buttonClosePopup} alt=\"Закрыть окно\" onClick={onClose} />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nImagePopup.propTypes = {\r\n  card: PropTypes.object,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  onKeydown: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ImagePopup;\r\n","export default __webpack_public_path__ + \"static/media/icon-ok.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/icon-err.d4ce2a26.svg\";","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport buttonClosePopup from \"../images/button-сlose.svg\";\r\nimport imageOk from \"../images/icon-ok.svg\";\r\nimport imageErr from \"../images/icon-err.svg\";\r\n\r\nfunction InfoTooltip({ success, isOpen, onClose, onKeydown }) {\r\n\r\n  React.useEffect(() => {\r\n    if (!isOpen) {\r\n      return;\r\n    }\r\n\r\n    document.addEventListener(\"keydown\", onKeydown);\r\n    return () => document.removeEventListener(\"keydown\", onKeydown);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isOpen])\r\n\r\n  return (\r\n    <div className={`popup popup_type_tooltype ${isOpen ? \"popup_opened\" : \"\"} `} onClick={onClose}>\r\n      <div className=\"popup__container\" onClick={(e) => e.stopPropagation()}>\r\n        <img className=\"popup__icon\" src={success ? imageOk : imageErr} alt={success ? \"ОК\" : \"Ошибка\"} />\r\n        <p className=\"popup__text\">{success ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз.\"}</p>\r\n        <button className=\"popup__button-close\" type=\"button\" aria-label=\"Закрыть окно\" onClick={onClose}>\r\n          <img className=\"popup__button-close-img\" src={buttonClosePopup} alt=\"Закрыть окно\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nInfoTooltip.propTypes = {\r\n  success: PropTypes.bool.isRequired,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  onKeydown: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import React from \"react\";\r\nimport { Route, Switch, Redirect, withRouter } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport api from \"../utils/Api\";\r\nimport ProtectedRoute from \"../utils/ProtectedRoute\";\r\nimport * as auth from \"../utils/Auth.js\";\r\n\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\n\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\n\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\n\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nimport \"../index.css\";\r\nimport { useLocation } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nfunction App({ history }) {\r\n  const [editAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  const [editProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\r\n  const [addCardPopupOpen, setAddCardPopupOpen] = React.useState(false);\r\n  const [infoTooltipPopupOpen, setInfoTooltipPopupOpen] = React.useState(false);\r\n  const [infoTooltipSuccess, setInfoTooltipSuccess] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState();\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [userData, setUserData] = React.useState(\"\");\r\n\r\n  const { pathname } = useLocation();\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([\r\n      api.getProfileData(),\r\n      api.getInitialCards()\r\n    ])\r\n      .then(([profile, cards]) => {\r\n        setCurrentUser(profile);\r\n        setCards(cards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n\r\n    if (token) {\r\n      loadProfile(token);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddCardClick() {\r\n    setAddCardPopupOpen(true);\r\n  }\r\n\r\n  function showResult(success) {\r\n    setInfoTooltipPopupOpen(true);\r\n    setInfoTooltipSuccess(success);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setAddCardPopupOpen(false);\r\n    setInfoTooltipPopupOpen(false);\r\n    setSelectedCard(undefined);\r\n  }\r\n\r\n  function onKeydown({ key }) {\r\n    if (key === \"Escape\") {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    api.setProfileData(data.name, data.about)\r\n      .then((result) => {\r\n        setCurrentUser(result);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleUpdateAvatar({ avatar }) {\r\n    api.setAvatar(avatar)\r\n      .then((result) => {\r\n        setCurrentUser(result);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    setCards((state) => state.map((c) => c._id === card._id ? { ...c, likeClicked: true } : c));\r\n\r\n    const promise = isLiked ?\r\n      api.unlikeCard(card._id) :\r\n      api.likeCard(card._id);\r\n\r\n    promise\r\n      .then((card) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? card : c));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    setCards((state) => state.map((c) => c._id === card._id ? { ...c, deleteClicked: true } : c));\r\n\r\n    api.removeCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id !== card._id);\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleAddPlaceSubmit(data) {\r\n    api.createCard(data.title, data.pic)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function loadProfile(token) {\r\n    auth.getContent(token)\r\n      .then((res) => {\r\n        if (res) {\r\n          setUserData(res.data.email);\r\n          setLoggedIn(true);\r\n          history.push(\"/content\");\r\n        }\r\n      });\r\n  }\r\n\r\n  function handleLogin(token) {\r\n    loadProfile(token);\r\n  }\r\n\r\n  function handleLogout() {\r\n    localStorage.removeItem(\"token\");\r\n    setLoggedIn(false);\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n\r\n        <div className=\"page__container\">\r\n          <Header\r\n            pageType={pathname}\r\n            userData={userData}\r\n            handleLogout={handleLogout}\r\n            loggedIn={loggedIn}\r\n          />\r\n          <main className=\"content\">\r\n\r\n            <Switch>\r\n              <ProtectedRoute\r\n                path=\"/content\"\r\n                loggedIn={loggedIn}\r\n              >\r\n                <Main\r\n                  cards={cards}\r\n                  currentUser={currentUser}\r\n                  onCardLike={handleCardLike}\r\n                  onCardDelete={handleCardDelete}\r\n                  onEditAvatar={handleEditAvatarClick}\r\n                  onEditProfile={handleEditProfileClick}\r\n                  onAddCard={handleAddCardClick}\r\n                  onCardClick={handleCardClick}\r\n                />\r\n              </ProtectedRoute>\r\n\r\n              <Route path=\"/sign-in\">\r\n                <Login\r\n                  showResult={showResult}\r\n                  handleLogin={handleLogin}\r\n                />\r\n              </Route>\r\n\r\n              <Route path=\"/sign-up\">\r\n                <Register\r\n                  showResult={showResult}\r\n                />\r\n              </Route>\r\n\r\n              <Route exact path=\"/\">\r\n                {loggedIn ? <Redirect to=\"/content\" /> : <Redirect to=\"/sign-in\" />}\r\n              </Route>\r\n            </Switch>\r\n\r\n          </main>\r\n          <Footer />\r\n        </div>\r\n\r\n        {currentUser.name &&\r\n          <EditProfilePopup\r\n            onUpdateUser={handleUpdateUser}\r\n            isOpen={editProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onKeydown={onKeydown}\r\n          />\r\n        }\r\n\r\n        <EditAvatarPopup\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          isOpen={editAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onKeydown={onKeydown}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          onAddPlace={handleAddPlaceSubmit}\r\n          isOpen={addCardPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onKeydown={onKeydown}\r\n        />\r\n\r\n        <ImagePopup\r\n          card={selectedCard}\r\n          isOpen={infoTooltipPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onKeydown={onKeydown}\r\n        />\r\n\r\n        <InfoTooltip\r\n          success={infoTooltipSuccess}\r\n          isOpen={infoTooltipPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onKeydown={onKeydown}\r\n        />\r\n\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nApp.propTypes = {\r\n  history: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default withRouter(App);\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nimport App from \"./components/App\";\r\n\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}